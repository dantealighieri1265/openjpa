<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="it"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../../jacoco-resources/report.gif" type="image/gif"/><title>OpenJPAConfigurationImpl.java</title><link rel="stylesheet" href="../../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../../index.html" class="el_report">Tests</a> &gt; <a href="../index.html" class="el_bundle">openjpa-kernel</a> &gt; <a href="index.source.html" class="el_package">org.apache.openjpa.conf</a> &gt; <span class="el_source">OpenJPAConfigurationImpl.java</span></div><h1>OpenJPAConfigurationImpl.java</h1><pre class="source lang-java linenums">/*
 * Licensed to the Apache Software Foundation (ASF) under one
 * or more contributor license agreements.  See the NOTICE file
 * distributed with this work for additional information
 * regarding copyright ownership.  The ASF licenses this file
 * to you under the Apache License, Version 2.0 (the
 * &quot;License&quot;); you may not use this file except in compliance
 * with the License.  You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * &quot;AS IS&quot; BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 * KIND, either express or implied.  See the License for the
 * specific language governing permissions and limitations
 * under the License.
 */
package org.apache.openjpa.conf;

import static java.util.Arrays.asList;

import java.util.Collection;
import java.util.HashSet;
import java.util.Map;

import org.apache.openjpa.audit.AuditLogger;
import org.apache.openjpa.audit.Auditor;
import org.apache.openjpa.datacache.CacheDistributionPolicy;
import org.apache.openjpa.datacache.ConcurrentDataCache;
import org.apache.openjpa.datacache.ConcurrentQueryCache;
import org.apache.openjpa.datacache.DataCacheManager;
import org.apache.openjpa.datacache.DataCacheManagerImpl;
import org.apache.openjpa.datacache.PartitionedDataCache;
import org.apache.openjpa.ee.ManagedRuntime;
import org.apache.openjpa.enhance.RuntimeUnenhancedClassesModes;
import org.apache.openjpa.event.BrokerFactoryEventManager;
import org.apache.openjpa.event.LifecycleEventManager;
import org.apache.openjpa.event.OrphanedKeyAction;
import org.apache.openjpa.event.RemoteCommitEventManager;
import org.apache.openjpa.event.RemoteCommitProvider;
import org.apache.openjpa.instrumentation.InstrumentationManager;
import org.apache.openjpa.instrumentation.InstrumentationManagerImpl;
import org.apache.openjpa.kernel.AutoClear;
import org.apache.openjpa.kernel.BrokerImpl;
import org.apache.openjpa.kernel.ConnectionRetainModes;
import org.apache.openjpa.kernel.FinderCache;
import org.apache.openjpa.kernel.InverseManager;
import org.apache.openjpa.kernel.LockLevels;
import org.apache.openjpa.kernel.LockManager;
import org.apache.openjpa.kernel.PreparedQueryCache;
import org.apache.openjpa.kernel.QueryFlushModes;
import org.apache.openjpa.kernel.RestoreState;
import org.apache.openjpa.kernel.SavepointManager;
import org.apache.openjpa.kernel.Seq;
import org.apache.openjpa.kernel.exps.AggregateListener;
import org.apache.openjpa.kernel.exps.FilterListener;
import org.apache.openjpa.lib.conf.BooleanValue;
import org.apache.openjpa.lib.conf.ClassListValue;
import org.apache.openjpa.lib.conf.ConfigurationImpl;
import org.apache.openjpa.lib.conf.Configurations;
import org.apache.openjpa.lib.conf.IntValue;
import org.apache.openjpa.lib.conf.ObjectValue;
import org.apache.openjpa.lib.conf.PluginListValue;
import org.apache.openjpa.lib.conf.PluginValue;
import org.apache.openjpa.lib.conf.ProductDerivations;
import org.apache.openjpa.lib.conf.StringListValue;
import org.apache.openjpa.lib.conf.StringValue;
import org.apache.openjpa.lib.encryption.EncryptionProvider;
import org.apache.openjpa.lib.instrumentation.InstrumentationLevel;
import org.apache.openjpa.lib.instrumentation.InstrumentationProvider;
import org.apache.openjpa.lib.log.Log;
import org.apache.openjpa.lib.util.StringUtil;
import org.apache.openjpa.meta.MetaDataFactory;
import org.apache.openjpa.meta.MetaDataRepository;
import org.apache.openjpa.util.ClassResolver;
import org.apache.openjpa.util.ImplHelper;
import org.apache.openjpa.util.ProxyManager;
import org.apache.openjpa.util.StoreFacadeTypeRegistry;
import org.apache.openjpa.validation.ValidatingLifecycleEventManager;

/**
 * Implementation of the {@link OpenJPAConfiguration} interface.
 *
 * @see ConfigurationImpl
 * @author Marc Prud'hommeaux
 * @author Abe White
 */
public class OpenJPAConfigurationImpl
    extends ConfigurationImpl
    implements OpenJPAConfiguration {

    // private static final Localizer _loc = Localizer.forPackage(OpenJPAConfigurationImpl.class);

    // cached state; some of this is created in getter methods, so make
    // protected in case subclasses want to access without creating
<span class="nc" id="L97">    protected MetaDataRepository metaRepository = null;</span>
<span class="nc" id="L98">    protected RemoteCommitEventManager remoteEventManager = null;</span>

    // openjpa properties
    public ObjectValue classResolverPlugin;
    public BrokerValue brokerPlugin;
    public ObjectValue dataCachePlugin;
    public ObjectValue dataCacheManagerPlugin;
    public ObjectValue auditorPlugin;
    public ObjectValue cacheDistributionPolicyPlugin;
    public IntValue dataCacheTimeout;
    public ObjectValue queryCachePlugin;
    public BooleanValue dynamicDataStructs;
    public ObjectValue managedRuntimePlugin;
    public BooleanValue transactionMode;
    public IntValue connectionRetainMode;
    public IntValue fetchBatchSize;
    public IntValue maxFetchDepth;
    public StringListValue fetchGroups;
    public IntValue flushBeforeQueries;
    public IntValue lockTimeout;
    public IntValue queryTimeout;
    public IntValue readLockLevel;
    public IntValue writeLockLevel;
    public ObjectValue seqPlugin;
    public PluginListValue filterListenerPlugins;
    public PluginListValue aggregateListenerPlugins;
    public BooleanValue retryClassRegistration;
    public ObjectValue proxyManagerPlugin;
    public StringValue connectionUserName;
    public StringValue connectionPassword;
    public PluginValue encryptionProvider;
    public StringValue connectionURL;
    public StringValue connectionDriverName;
    public ObjectValue connectionFactory;
    public StringValue connectionFactoryName;
    public StringValue connectionProperties;
    public StringValue connectionFactoryProperties;
    public BooleanValue connectionFactoryMode;
    public StringValue connection2UserName;
    public StringValue connection2Password;
    public StringValue connection2URL;
    public StringValue connection2DriverName;
    public StringValue connection2Properties;
    public ObjectValue connectionFactory2;
    public StringValue connectionFactory2Name;
    public StringValue connectionFactory2Properties;
    public BooleanValue optimistic;
    public IntValue autoClear;
    public BooleanValue retainState;
    public IntValue restoreState;
    public ObjectValue detachStatePlugin;
    public BooleanValue ignoreChanges;
    public BooleanValue nontransactionalRead;
    public BooleanValue nontransactionalWrite;
    public BooleanValue refreshFromDataCache;
    public BooleanValue multithreaded;
    public StringValue mapping;
    public PluginValue metaFactoryPlugin;
    public MetaDataRepositoryValue metaRepositoryPlugin;
    public ObjectValue lockManagerPlugin;
    public ObjectValue inverseManagerPlugin;
    public ObjectValue savepointManagerPlugin;
    public ObjectValue orphanedKeyPlugin;
    public ObjectValue compatibilityPlugin;
    public ObjectValue callbackPlugin;
    public QueryCompilationCacheValue queryCompilationCachePlugin;
    public IntValue runtimeUnenhancedClasses;
    public CacheMarshallersValue cacheMarshallerPlugins;
    public BooleanValue eagerInitialization;
    public PluginValue preparedQueryCachePlugin;
    public PluginValue finderCachePlugin;
    public ObjectValue specification;
    public StringValue validationMode;
    public ObjectValue validationFactory;
    public ObjectValue validator;
    public ObjectValue lifecycleEventManager;
    public StringValue validationGroupPrePersist;
    public StringValue validationGroupPreUpdate;
    public StringValue validationGroupPreRemove;
    public StringValue dataCacheMode;
    public BooleanValue dynamicEnhancementAgent;
    public ObjectValue instrumentationManager;
    public PluginListValue instrumentationProviders;
    public BooleanValue postLoadOnMerge;
    public BooleanValue optimizeIdCopy;
    public BooleanValue useTcclForSelectNew;
    public ClassListValue typesWithoutEnhancement;

    // JPA Properties
    public IntValue databaseAction;
    public IntValue scriptsAction;
    public IntValue createSource;
    public IntValue dropSource;
    public StringValue createScriptSource;
    public StringValue dropScriptSource;
    public StringValue createScriptTarget;
    public StringValue dropScriptTarget;
    public StringValue loadScriptSource;

    // custom values
    public BrokerFactoryValue brokerFactoryPlugin;
    public RemoteCommitProviderValue remoteProviderPlugin;
    public AutoDetachValue autoDetach;

<span class="nc" id="L202">    private Collection&lt;String&gt; supportedOptions = new HashSet&lt;&gt;(33);</span>
<span class="nc" id="L203">    private final StoreFacadeTypeRegistry _storeFacadeRegistry = new StoreFacadeTypeRegistry();</span>
<span class="nc" id="L204">    private BrokerFactoryEventManager _brokerFactoryEventManager = new BrokerFactoryEventManager(this);</span>
    private Map&lt;String, Object&gt; _peMap; //contains persistence environment-specific info
<span class="nc" id="L206">    private boolean _allowSetLifeCycleEventManager = true;</span>
    /**
     * Default constructor. Attempts to load global properties.
     */
    public OpenJPAConfigurationImpl() {
<span class="nc" id="L211">        this(true);</span>
<span class="nc" id="L212">    }</span>

    /**
     * Constructor.
     *
     * @param loadGlobals whether to attempt to load the global properties
     */
    public OpenJPAConfigurationImpl(boolean loadGlobals) {
<span class="nc" id="L220">        this(true, loadGlobals);</span>
<span class="nc" id="L221">    }</span>

    /**
     * Constructor.
     *
     * @param derivations whether to apply product derivations
     * @param loadGlobals whether to attempt to load the global properties
     */
    public OpenJPAConfigurationImpl(boolean derivations, boolean loadGlobals) {
<span class="nc" id="L230">        super(false);</span>
        String[] aliases;

<span class="nc" id="L233">        classResolverPlugin = addPlugin(&quot;ClassResolver&quot;, true);</span>
<span class="nc" id="L234">        aliases = new String[] {</span>
                &quot;default&quot;, &quot;org.apache.openjpa.util.ClassResolverImpl&quot;,
                // deprecated alias
                &quot;spec&quot;, &quot;org.apache.openjpa.util.ClassResolverImpl&quot;, };
<span class="nc" id="L238">        classResolverPlugin.setAliases(aliases);</span>
<span class="nc" id="L239">        classResolverPlugin.setDefault(aliases[0]);</span>
<span class="nc" id="L240">        classResolverPlugin.setString(aliases[0]);</span>
<span class="nc" id="L241">        classResolverPlugin.setInstantiatingGetter(&quot;getClassResolverInstance&quot;);</span>

<span class="nc" id="L243">        brokerFactoryPlugin = new BrokerFactoryValue();</span>
<span class="nc" id="L244">        addValue(brokerFactoryPlugin);</span>

<span class="nc" id="L246">        brokerPlugin = new BrokerValue();</span>
<span class="nc" id="L247">        addValue(brokerPlugin);</span>

<span class="nc" id="L249">        dataCacheManagerPlugin = addPlugin(&quot;DataCacheManager&quot;, true);</span>
<span class="nc" id="L250">        aliases =</span>
<span class="nc" id="L251">            new String[] { &quot;default&quot;, DataCacheManagerImpl.class.getName(), };</span>
<span class="nc" id="L252">        dataCacheManagerPlugin.setAliases(aliases);</span>
<span class="nc" id="L253">        dataCacheManagerPlugin.setDefault(aliases[0]);</span>
<span class="nc" id="L254">        dataCacheManagerPlugin.setString(aliases[0]);</span>
<span class="nc" id="L255">        dataCacheManagerPlugin.setInstantiatingGetter(&quot;getDataCacheManager&quot;);</span>

<span class="nc" id="L257">        cacheDistributionPolicyPlugin = addPlugin(&quot;CacheDistributionPolicy&quot;, true);</span>
<span class="nc" id="L258">        aliases = new String[] {</span>
                &quot;default&quot;,    &quot;org.apache.openjpa.datacache.DefaultCacheDistributionPolicy&quot;,
                &quot;type-based&quot;, &quot;org.apache.openjpa.datacache.TypeBasedCacheDistributionPolicy&quot;};
<span class="nc" id="L261">        cacheDistributionPolicyPlugin.setAliases(aliases);</span>
<span class="nc" id="L262">        cacheDistributionPolicyPlugin.setDefault(aliases[0]);</span>
<span class="nc" id="L263">        cacheDistributionPolicyPlugin.setString(aliases[0]);</span>
<span class="nc" id="L264">        cacheDistributionPolicyPlugin.setInstantiatingGetter(&quot;getCacheDistributionPolicy&quot;);</span>

<span class="nc" id="L266">        dataCachePlugin = addPlugin(&quot;DataCache&quot;, false);</span>
<span class="nc" id="L267">        aliases = new String[] {</span>
            &quot;false&quot;, null,
<span class="nc" id="L269">            &quot;true&quot;, ConcurrentDataCache.class.getName(),</span>
<span class="nc" id="L270">            &quot;concurrent&quot;, ConcurrentDataCache.class.getName(),</span>
<span class="nc" id="L271">            &quot;partitioned&quot;, PartitionedDataCache.class.getName(),</span>
        };
<span class="nc" id="L273">        dataCachePlugin.setAliases(aliases);</span>
<span class="nc" id="L274">        dataCachePlugin.setDefault(aliases[0]);</span>
<span class="nc" id="L275">        dataCachePlugin.setString(aliases[0]);</span>

<span class="nc" id="L277">        dataCacheTimeout = addInt(&quot;DataCacheTimeout&quot;);</span>
<span class="nc" id="L278">        dataCacheTimeout.setDefault(&quot;-1&quot;);</span>
<span class="nc" id="L279">        dataCacheTimeout.set(-1);</span>
<span class="nc" id="L280">        dataCacheTimeout.setDynamic(true);</span>

<span class="nc" id="L282">        queryCachePlugin = addPlugin(&quot;QueryCache&quot;, false);</span>
<span class="nc" id="L283">        aliases = new String[] {</span>
            &quot;false&quot;, null,
<span class="nc" id="L285">            &quot;true&quot;, ConcurrentQueryCache.class.getName(),</span>
<span class="nc" id="L286">            &quot;concurrent&quot;, ConcurrentQueryCache.class.getName(),</span>
        };
<span class="nc" id="L288">        queryCachePlugin.setAliases(aliases);</span>
<span class="nc" id="L289">        queryCachePlugin.setDefault(aliases[0]);</span>
<span class="nc" id="L290">        queryCachePlugin.setString(aliases[0]);</span>

<span class="nc" id="L292">        refreshFromDataCache = addBoolean(&quot;RefreshFromDataCache&quot;);</span>
<span class="nc" id="L293">        refreshFromDataCache.setDefault(&quot;false&quot;);</span>
<span class="nc" id="L294">        refreshFromDataCache.set(false);</span>
<span class="nc" id="L295">        refreshFromDataCache.setDynamic(true);</span>

<span class="nc" id="L297">        dynamicDataStructs = addBoolean(&quot;DynamicDataStructs&quot;);</span>
<span class="nc" id="L298">        dynamicDataStructs.setDefault(&quot;false&quot;);</span>
<span class="nc" id="L299">        dynamicDataStructs.set(false);</span>

<span class="nc" id="L301">        lockManagerPlugin = addPlugin(&quot;LockManager&quot;, false);</span>
<span class="nc" id="L302">        aliases =</span>
            new String[] {
                &quot;none&quot;, &quot;org.apache.openjpa.kernel.NoneLockManager&quot;,
                &quot;version&quot;, &quot;org.apache.openjpa.kernel.VersionLockManager&quot;, };
<span class="nc" id="L306">        lockManagerPlugin.setAliases(aliases);</span>
<span class="nc" id="L307">        lockManagerPlugin.setDefault(aliases[0]);</span>
<span class="nc" id="L308">        lockManagerPlugin.setString(aliases[0]);</span>

<span class="nc" id="L310">        inverseManagerPlugin = addPlugin(&quot;InverseManager&quot;, false);</span>
<span class="nc" id="L311">        aliases = new String[] {</span>
                &quot;false&quot;, null,
                &quot;true&quot;,  &quot;org.apache.openjpa.kernel.InverseManager&quot;, };
<span class="nc" id="L314">        inverseManagerPlugin.setAliases(aliases);</span>
<span class="nc" id="L315">        inverseManagerPlugin.setDefault(aliases[0]);</span>
<span class="nc" id="L316">        inverseManagerPlugin.setString(aliases[0]);</span>

<span class="nc" id="L318">        savepointManagerPlugin = addPlugin(&quot;SavepointManager&quot;, true);</span>
<span class="nc" id="L319">        aliases = new String[] {</span>
                &quot;in-mem&quot;, &quot;org.apache.openjpa.kernel.InMemorySavepointManager&quot;, };
<span class="nc" id="L321">        savepointManagerPlugin.setAliases(aliases);</span>
<span class="nc" id="L322">        savepointManagerPlugin.setDefault(aliases[0]);</span>
<span class="nc" id="L323">        savepointManagerPlugin.setString(aliases[0]);</span>
<span class="nc" id="L324">        savepointManagerPlugin.setInstantiatingGetter(&quot;getSavepointManagerInstance&quot;);</span>

<span class="nc" id="L326">        orphanedKeyPlugin = addPlugin(&quot;OrphanedKeyAction&quot;, true);</span>
<span class="nc" id="L327">        aliases = new String[] {</span>
                &quot;log&quot;,       &quot;org.apache.openjpa.event.LogOrphanedKeyAction&quot;,
                &quot;exception&quot;, &quot;org.apache.openjpa.event.ExceptionOrphanedKeyAction&quot;,
                &quot;none&quot;,      &quot;org.apache.openjpa.event.NoneOrphanedKeyAction&quot;, };
<span class="nc" id="L331">        orphanedKeyPlugin.setAliases(aliases);</span>
<span class="nc" id="L332">        orphanedKeyPlugin.setDefault(aliases[0]);</span>
<span class="nc" id="L333">        orphanedKeyPlugin.setString(aliases[0]);</span>
<span class="nc" id="L334">        orphanedKeyPlugin.setInstantiatingGetter(&quot;getOrphanedKeyActionInstance&quot;);</span>

<span class="nc" id="L336">        remoteProviderPlugin = new RemoteCommitProviderValue();</span>
<span class="nc" id="L337">        addValue(remoteProviderPlugin);</span>

<span class="nc" id="L339">        transactionMode = addBoolean(&quot;TransactionMode&quot;);</span>
<span class="nc" id="L340">        aliases = new String[] { &quot;local&quot;, &quot;false&quot;, &quot;managed&quot;, &quot;true&quot;, };</span>
<span class="nc" id="L341">        transactionMode.setAliases(aliases);</span>
<span class="nc" id="L342">        transactionMode.setDefault(aliases[0]);</span>

<span class="nc" id="L344">        managedRuntimePlugin = addPlugin(&quot;ManagedRuntime&quot;, true);</span>
<span class="nc" id="L345">        aliases = new String[] {</span>
                &quot;auto&quot;,       &quot;org.apache.openjpa.ee.AutomaticManagedRuntime&quot;,
                &quot;jndi&quot;,       &quot;org.apache.openjpa.ee.JNDIManagedRuntime&quot;,
                &quot;invocation&quot;, &quot;org.apache.openjpa.ee.InvocationManagedRuntime&quot;, };
<span class="nc" id="L349">        managedRuntimePlugin.setAliases(aliases);</span>
<span class="nc" id="L350">        managedRuntimePlugin.setDefault(aliases[0]);</span>
<span class="nc" id="L351">        managedRuntimePlugin.setString(aliases[0]);</span>
<span class="nc" id="L352">        managedRuntimePlugin</span>
<span class="nc" id="L353">            .setInstantiatingGetter(&quot;getManagedRuntimeInstance&quot;);</span>

<span class="nc" id="L355">        proxyManagerPlugin = addPlugin(&quot;ProxyManager&quot;, true);</span>
<span class="nc" id="L356">        aliases = new String[] {</span>
                &quot;default&quot;, &quot;org.apache.openjpa.util.ProxyManagerImpl&quot; };
<span class="nc" id="L358">        proxyManagerPlugin.setAliases(aliases);</span>
<span class="nc" id="L359">        proxyManagerPlugin.setDefault(aliases[0]);</span>
<span class="nc" id="L360">        proxyManagerPlugin.setString(aliases[0]);</span>
<span class="nc" id="L361">        proxyManagerPlugin.setInstantiatingGetter(&quot;getProxyManagerInstance&quot;);</span>

<span class="nc" id="L363">        mapping = addString(&quot;Mapping&quot;);</span>
<span class="nc" id="L364">        metaFactoryPlugin = addPlugin(&quot;MetaDataFactory&quot;, false);</span>

<span class="nc" id="L366">        metaRepositoryPlugin = (MetaDataRepositoryValue) addValue(new MetaDataRepositoryValue());</span>

<span class="nc" id="L368">        connectionFactory = addObject(&quot;ConnectionFactory&quot;);</span>
<span class="nc" id="L369">        connectionFactory.setInstantiatingGetter(&quot;getConnectionFactory&quot;);</span>

<span class="nc" id="L371">        connectionFactory2 = addObject(&quot;ConnectionFactory2&quot;);</span>
<span class="nc" id="L372">        connectionFactory2.setInstantiatingGetter(&quot;getConnectionFactory2&quot;);</span>
        // This is done because this plug-in may get initialized very lazily
        // when the runtime needs it for flush or a sequence. To keep it
        // dynamic allows it to be set even when the configuration is frozen
<span class="nc" id="L376">        connectionFactory.setDynamic(true);</span>
<span class="nc" id="L377">        connectionFactory2.setDynamic(true);</span>


<span class="nc" id="L380">        connectionUserName = addString(&quot;ConnectionUserName&quot;);</span>
<span class="nc" id="L381">        connectionUserName.addEquivalentKey(&quot;javax.persistence.jdbc.user&quot;);</span>

<span class="nc" id="L383">        connectionPassword = addString(&quot;ConnectionPassword&quot;);</span>
<span class="nc" id="L384">        connectionPassword.addEquivalentKey(&quot;javax.persistence.jdbc.password&quot;);</span>
<span class="nc" id="L385">        connectionPassword.hide();</span>

<span class="nc" id="L387">        encryptionProvider = addPlugin(&quot;EncryptionProvider&quot;,true);</span>

<span class="nc" id="L389">        connectionURL = addString(&quot;ConnectionURL&quot;);</span>
<span class="nc" id="L390">        connectionURL.addEquivalentKey(&quot;javax.persistence.jdbc.url&quot;);</span>

<span class="nc" id="L392">        connectionDriverName = addString(&quot;ConnectionDriverName&quot;);</span>
<span class="nc" id="L393">        connectionDriverName.addEquivalentKey(&quot;javax.persistence.jdbc.driver&quot;);</span>

<span class="nc" id="L395">        connectionFactoryName = addString(&quot;ConnectionFactoryName&quot;);</span>
<span class="nc" id="L396">        connectionProperties = addString(&quot;ConnectionProperties&quot;);</span>
<span class="nc" id="L397">        connectionFactoryProperties = addString(&quot;ConnectionFactoryProperties&quot;);</span>
<span class="nc" id="L398">        connection2UserName = addString(&quot;Connection2UserName&quot;);</span>
<span class="nc" id="L399">        connection2Password = addString(&quot;Connection2Password&quot;);</span>
<span class="nc" id="L400">        connection2Password.hide();</span>

<span class="nc" id="L402">        connection2URL = addString(&quot;Connection2URL&quot;);</span>
<span class="nc" id="L403">        connection2DriverName = addString(&quot;Connection2DriverName&quot;);</span>
<span class="nc" id="L404">        connection2Properties = addString(&quot;Connection2Properties&quot;);</span>
<span class="nc" id="L405">        connectionFactory2Properties = addString(&quot;ConnectionFactory2Properties&quot;);</span>
<span class="nc" id="L406">        connectionFactory2Name = addString(&quot;ConnectionFactory2Name&quot;);</span>

<span class="nc" id="L408">        connectionFactoryMode = addBoolean(&quot;ConnectionFactoryMode&quot;);</span>
<span class="nc" id="L409">        aliases = new String[] { &quot;local&quot;, &quot;false&quot;, &quot;managed&quot;, &quot;true&quot;, };</span>
<span class="nc" id="L410">        connectionFactoryMode.setAliases(aliases);</span>
<span class="nc" id="L411">        connectionFactoryMode.setDefault(aliases[0]);</span>

<span class="nc" id="L413">        optimistic = addBoolean(&quot;Optimistic&quot;);</span>
<span class="nc" id="L414">        optimistic.setDefault(&quot;true&quot;);</span>
<span class="nc" id="L415">        optimistic.set(true);</span>

<span class="nc" id="L417">        postLoadOnMerge = addBoolean(&quot;PostLoadOnMerge&quot;);</span>
<span class="nc" id="L418">        postLoadOnMerge.setDefault(&quot;false&quot;);</span>
<span class="nc" id="L419">        postLoadOnMerge.set(false);</span>

<span class="nc" id="L421">        optimizeIdCopy = addBoolean(&quot;OptimizeIdCopy&quot;);</span>
<span class="nc" id="L422">        optimizeIdCopy.setDefault(&quot;false&quot;);</span>
<span class="nc" id="L423">        optimizeIdCopy.set(false);</span>

<span class="nc" id="L425">        databaseAction = addInt(&quot;javax.persistence.schema-generation.database.action&quot;);</span>
<span class="nc" id="L426">        aliases = new String[] {</span>
<span class="nc" id="L427">                &quot;none&quot;, String.valueOf(SchemaGenerationAction.NONE),</span>
<span class="nc" id="L428">                &quot;create&quot;, String.valueOf(SchemaGenerationAction.CREATE),</span>
<span class="nc" id="L429">                &quot;drop-and-create&quot;, String.valueOf(SchemaGenerationAction.DROP_AND_CREATE),</span>
<span class="nc" id="L430">                &quot;drop&quot;, String.valueOf(SchemaGenerationAction.DROP)</span>
        };
<span class="nc" id="L432">        databaseAction.setAliases(aliases);</span>
<span class="nc" id="L433">        databaseAction.setDefault(aliases[0]);</span>
<span class="nc" id="L434">        databaseAction.setAliasListComprehensive(true);</span>

<span class="nc" id="L436">        scriptsAction = addInt(&quot;javax.persistence.schema-generation.scripts.action&quot;);</span>
<span class="nc" id="L437">        aliases = new String[] {</span>
<span class="nc" id="L438">                &quot;none&quot;, String.valueOf(SchemaGenerationAction.NONE),</span>
<span class="nc" id="L439">                &quot;create&quot;, String.valueOf(SchemaGenerationAction.CREATE),</span>
<span class="nc" id="L440">                &quot;drop-and-create&quot;, String.valueOf(SchemaGenerationAction.DROP_AND_CREATE),</span>
<span class="nc" id="L441">                &quot;drop&quot;, String.valueOf(SchemaGenerationAction.DROP)</span>
        };
<span class="nc" id="L443">        scriptsAction.setAliases(aliases);</span>
<span class="nc" id="L444">        scriptsAction.setDefault(aliases[0]);</span>
<span class="nc" id="L445">        scriptsAction.setAliasListComprehensive(true);</span>

<span class="nc" id="L447">        createSource = addInt(&quot;javax.persistence.schema-generation.create-source&quot;);</span>
<span class="nc" id="L448">        aliases = new String[] {</span>
<span class="nc" id="L449">                &quot;none&quot;, String.valueOf(SchemaGenerationSource.NONE),</span>
<span class="nc" id="L450">                &quot;metadata&quot;, String.valueOf(SchemaGenerationSource.METADATA),</span>
<span class="nc" id="L451">                &quot;script&quot;, String.valueOf(SchemaGenerationSource.SCRIPT),</span>
<span class="nc" id="L452">                &quot;metadata-then-script&quot;, String.valueOf(SchemaGenerationSource.METADATA_THEN_SCRIPT),</span>
<span class="nc" id="L453">                &quot;script-then-metadata&quot;, String.valueOf(SchemaGenerationSource.SCRIPT_THEN_METADATA)</span>
        };
<span class="nc" id="L455">        createSource.setAliases(aliases);</span>
<span class="nc" id="L456">        createSource.setDefault(aliases[0]);</span>
<span class="nc" id="L457">        createSource.setAliasListComprehensive(true);</span>

<span class="nc" id="L459">        dropSource = addInt(&quot;javax.persistence.schema-generation.drop-source&quot;);</span>
<span class="nc" id="L460">        aliases = new String[] {</span>
<span class="nc" id="L461">                &quot;metadata&quot;, String.valueOf(SchemaGenerationSource.METADATA),</span>
<span class="nc" id="L462">                &quot;script&quot;, String.valueOf(SchemaGenerationSource.SCRIPT),</span>
<span class="nc" id="L463">                &quot;metadata-then-script&quot;, String.valueOf(SchemaGenerationSource.METADATA_THEN_SCRIPT),</span>
<span class="nc" id="L464">                &quot;script-then-metadata&quot;, String.valueOf(SchemaGenerationSource.SCRIPT_THEN_METADATA)</span>
        };
<span class="nc" id="L466">        dropSource.setAliases(aliases);</span>
<span class="nc" id="L467">        dropSource.setDefault(aliases[0]);</span>
<span class="nc" id="L468">        dropSource.setAliasListComprehensive(true);</span>

<span class="nc" id="L470">        createScriptSource = addString(&quot;javax.persistence.schema-generation.create-script-source&quot;);</span>
<span class="nc" id="L471">        dropScriptSource = addString(&quot;javax.persistence.schema-generation.drop-script-source&quot;);</span>
<span class="nc" id="L472">        createScriptTarget = addString(&quot;javax.persistence.schema-generation.scripts.create-target&quot;);</span>
<span class="nc" id="L473">        dropScriptTarget = addString(&quot;javax.persistence.schema-generation.scripts.drop-target&quot;);</span>
<span class="nc" id="L474">        loadScriptSource = addString(&quot;javax.persistence.sql-load-script-source&quot;);</span>

<span class="nc" id="L476">        autoClear = addInt(&quot;AutoClear&quot;);</span>
<span class="nc" id="L477">        aliases =</span>
            new String[] { &quot;datastore&quot;,
<span class="nc" id="L479">                String.valueOf(AutoClear.CLEAR_DATASTORE), &quot;all&quot;,</span>
<span class="nc" id="L480">                String.valueOf(AutoClear.CLEAR_ALL), };</span>
<span class="nc" id="L481">        autoClear.setAliases(aliases);</span>
<span class="nc" id="L482">        autoClear.setDefault(aliases[0]);</span>
<span class="nc" id="L483">        autoClear.set(AutoClear.CLEAR_DATASTORE);</span>
<span class="nc" id="L484">        autoClear.setAliasListComprehensive(true);</span>

<span class="nc" id="L486">        retainState = addBoolean(&quot;RetainState&quot;);</span>
<span class="nc" id="L487">        retainState.setDefault(&quot;true&quot;);</span>
<span class="nc" id="L488">        retainState.set(true);</span>

<span class="nc" id="L490">        restoreState = addInt(&quot;RestoreState&quot;);</span>
<span class="nc" id="L491">        aliases = new String[] {</span>
<span class="nc" id="L492">                &quot;none&quot;,      String.valueOf(RestoreState.RESTORE_NONE),</span>
<span class="nc" id="L493">                &quot;false&quot;,     String.valueOf(RestoreState.RESTORE_NONE),</span>
<span class="nc" id="L494">                &quot;immutable&quot;, String.valueOf(RestoreState.RESTORE_IMMUTABLE),</span>
                // &quot;true&quot; for compat with jdo RestoreValues
<span class="nc" id="L496">                &quot;true&quot;,      String.valueOf(RestoreState.RESTORE_IMMUTABLE),</span>
<span class="nc" id="L497">                &quot;all&quot;,       String.valueOf(RestoreState.RESTORE_ALL), };</span>
<span class="nc" id="L498">        restoreState.setAliases(aliases);</span>
<span class="nc" id="L499">        restoreState.setDefault(aliases[0]);</span>
<span class="nc" id="L500">        restoreState.set(RestoreState.RESTORE_IMMUTABLE);</span>
<span class="nc" id="L501">        restoreState.setAliasListComprehensive(true);</span>

<span class="nc" id="L503">        autoDetach = new AutoDetachValue();</span>
<span class="nc" id="L504">        addValue(autoDetach);</span>

<span class="nc" id="L506">        detachStatePlugin = addPlugin(&quot;DetachState&quot;, true);</span>
<span class="nc" id="L507">        aliases = new String[] {</span>
<span class="nc" id="L508">            &quot;loaded&quot;,       DetachOptions.Loaded.class.getName(),</span>
<span class="nc" id="L509">            &quot;fgs&quot;,          DetachOptions.FetchGroups.class.getName(),</span>
<span class="nc" id="L510">            &quot;fetch-groups&quot;, DetachOptions.FetchGroups.class.getName(),</span>
<span class="nc" id="L511">            &quot;all&quot;,          DetachOptions.All.class.getName(),</span>
        };
<span class="nc" id="L513">        detachStatePlugin.setAliases(aliases);</span>
<span class="nc" id="L514">        detachStatePlugin.setDefault(aliases[0]);</span>
<span class="nc" id="L515">        detachStatePlugin.setString(aliases[0]);</span>
<span class="nc" id="L516">        detachStatePlugin.setInstantiatingGetter(&quot;getDetachStateInstance&quot;);</span>

<span class="nc" id="L518">        ignoreChanges = addBoolean(&quot;IgnoreChanges&quot;);</span>

<span class="nc" id="L520">        nontransactionalRead = addBoolean(&quot;NontransactionalRead&quot;);</span>
<span class="nc" id="L521">        nontransactionalRead.setDefault(&quot;true&quot;);</span>
<span class="nc" id="L522">        nontransactionalRead.set(true);</span>

<span class="nc" id="L524">        nontransactionalWrite = addBoolean(&quot;NontransactionalWrite&quot;);</span>
<span class="nc" id="L525">        multithreaded = addBoolean(&quot;Multithreaded&quot;);</span>

<span class="nc" id="L527">        fetchBatchSize = addInt(&quot;FetchBatchSize&quot;);</span>
<span class="nc" id="L528">        fetchBatchSize.setDefault(&quot;-1&quot;);</span>
<span class="nc" id="L529">        fetchBatchSize.set(-1);</span>
<span class="nc" id="L530">        fetchBatchSize.setDynamic(true);</span>

<span class="nc" id="L532">        maxFetchDepth = addInt(&quot;MaxFetchDepth&quot;);</span>
<span class="nc" id="L533">        maxFetchDepth.setDefault(&quot;-1&quot;);</span>
<span class="nc" id="L534">        maxFetchDepth.set(-1);</span>

<span class="nc" id="L536">        fetchGroups = addStringList(&quot;FetchGroups&quot;);</span>
<span class="nc" id="L537">        fetchGroups.setDefault(&quot;default&quot;);</span>
<span class="nc" id="L538">        fetchGroups.set(new String[] { &quot;default&quot; });</span>

<span class="nc" id="L540">        flushBeforeQueries = addInt(&quot;FlushBeforeQueries&quot;);</span>
<span class="nc" id="L541">        aliases = new String[] {</span>
<span class="nc" id="L542">                &quot;true&quot;,            String.valueOf(QueryFlushModes.FLUSH_TRUE),</span>
<span class="nc" id="L543">                &quot;false&quot;,           String.valueOf(QueryFlushModes.FLUSH_FALSE),</span>
<span class="nc" id="L544">                &quot;with-connection&quot;, String.valueOf(QueryFlushModes.FLUSH_WITH_CONNECTION),</span>
        };
<span class="nc" id="L546">        flushBeforeQueries.setAliases(aliases);</span>
<span class="nc" id="L547">        flushBeforeQueries.setDefault(aliases[0]);</span>
<span class="nc" id="L548">        flushBeforeQueries.set(QueryFlushModes.FLUSH_TRUE);</span>
<span class="nc" id="L549">        flushBeforeQueries.setAliasListComprehensive(true);</span>

<span class="nc" id="L551">        lockTimeout = addInt(&quot;LockTimeout&quot;);</span>
<span class="nc" id="L552">        lockTimeout.addEquivalentKey(&quot;javax.persistence.lock.timeout&quot;);</span>
<span class="nc" id="L553">        lockTimeout.setDefault(&quot;-1&quot;);</span>
<span class="nc" id="L554">        lockTimeout.setDynamic(true);</span>

<span class="nc" id="L556">        readLockLevel = addInt(&quot;ReadLockLevel&quot;);</span>
<span class="nc" id="L557">        aliases = new String[] {</span>
<span class="nc" id="L558">                &quot;read&quot;, String.valueOf(LockLevels.LOCK_READ),</span>
<span class="nc" id="L559">                &quot;write&quot;, String.valueOf(LockLevels.LOCK_WRITE),</span>
<span class="nc" id="L560">                &quot;none&quot;, String.valueOf(LockLevels.LOCK_NONE),</span>
            };
<span class="nc" id="L562">        readLockLevel.setAliases(aliases);</span>
<span class="nc" id="L563">        readLockLevel.setDefault(aliases[0]);</span>
<span class="nc" id="L564">        readLockLevel.set(LockLevels.LOCK_READ);</span>
<span class="nc" id="L565">        readLockLevel.setAliasListComprehensive(true);</span>

<span class="nc" id="L567">        writeLockLevel = addInt(&quot;WriteLockLevel&quot;);</span>
<span class="nc" id="L568">        aliases = new String[] {</span>
<span class="nc" id="L569">                &quot;read&quot;, String.valueOf(LockLevels.LOCK_READ),</span>
<span class="nc" id="L570">                &quot;write&quot;, String.valueOf(LockLevels.LOCK_WRITE),</span>
<span class="nc" id="L571">                &quot;none&quot;, String.valueOf(LockLevels.LOCK_NONE),</span>
            };
<span class="nc" id="L573">        writeLockLevel.setAliases(aliases);</span>
<span class="nc" id="L574">        writeLockLevel.setDefault(aliases[1]);</span>
<span class="nc" id="L575">        writeLockLevel.set(LockLevels.LOCK_WRITE);</span>
<span class="nc" id="L576">        writeLockLevel.setAliasListComprehensive(true);</span>

<span class="nc" id="L578">        seqPlugin = new SeqValue(&quot;Sequence&quot;);</span>
<span class="nc" id="L579">        seqPlugin.setInstantiatingGetter(&quot;getSequenceInstance&quot;);</span>
<span class="nc" id="L580">        addValue(seqPlugin);</span>

<span class="nc" id="L582">        connectionRetainMode = addInt(&quot;ConnectionRetainMode&quot;);</span>
<span class="nc" id="L583">        aliases = new String[] {</span>
<span class="nc" id="L584">                &quot;on-demand&quot;,   String.valueOf(ConnectionRetainModes.CONN_RETAIN_DEMAND),</span>
<span class="nc" id="L585">                &quot;transaction&quot;, String.valueOf(ConnectionRetainModes.CONN_RETAIN_TRANS),</span>
<span class="nc" id="L586">                &quot;always&quot;,      String.valueOf(ConnectionRetainModes.CONN_RETAIN_ALWAYS),</span>
                // deprecated
<span class="nc" id="L588">                &quot;persistence-manager&quot;, String.valueOf(ConnectionRetainModes.CONN_RETAIN_ALWAYS),</span>
            };
<span class="nc" id="L590">        connectionRetainMode.setAliases(aliases);</span>
<span class="nc" id="L591">        connectionRetainMode.setDefault(aliases[0]);</span>
<span class="nc" id="L592">        connectionRetainMode.setAliasListComprehensive(true);</span>
<span class="nc" id="L593">        connectionRetainMode.set(ConnectionRetainModes.CONN_RETAIN_DEMAND);</span>

<span class="nc" id="L595">        filterListenerPlugins = addPluginList(&quot;FilterListeners&quot;);</span>
<span class="nc" id="L596">        filterListenerPlugins.setInstantiatingGetter(&quot;getFilterListenerInstances&quot;);</span>

<span class="nc" id="L598">        aggregateListenerPlugins = addPluginList(&quot;AggregateListeners&quot;);</span>
<span class="nc" id="L599">        aggregateListenerPlugins.setInstantiatingGetter(&quot;getAggregateListenerInstances&quot;);</span>

<span class="nc" id="L601">        retryClassRegistration = addBoolean(&quot;RetryClassRegistration&quot;);</span>

<span class="nc" id="L603">        compatibilityPlugin = addPlugin(&quot;Compatibility&quot;, true);</span>
<span class="nc" id="L604">        aliases = new String[] { &quot;default&quot;, Compatibility.class.getName() };</span>
<span class="nc" id="L605">        compatibilityPlugin.setAliases(aliases);</span>
<span class="nc" id="L606">        compatibilityPlugin.setDefault(aliases[0]);</span>
<span class="nc" id="L607">        compatibilityPlugin.setString(aliases[0]);</span>
<span class="nc" id="L608">        compatibilityPlugin.setInstantiatingGetter(&quot;getCompatibilityInstance&quot;);</span>

<span class="nc" id="L610">        callbackPlugin = addPlugin(&quot;Callbacks&quot;, true);</span>
<span class="nc" id="L611">        aliases = new String[] { &quot;default&quot;, CallbackOptions.class.getName() };</span>
<span class="nc" id="L612">        callbackPlugin.setAliases(aliases);</span>
<span class="nc" id="L613">        callbackPlugin.setDefault(aliases[0]);</span>
<span class="nc" id="L614">        callbackPlugin.setString(aliases[0]);</span>
<span class="nc" id="L615">        callbackPlugin.setInstantiatingGetter(&quot;getCallbackOptionsInstance&quot;);</span>

<span class="nc" id="L617">        queryCompilationCachePlugin = new QueryCompilationCacheValue(&quot;QueryCompilationCache&quot;);</span>
<span class="nc" id="L618">        queryCompilationCachePlugin.setInstantiatingGetter(&quot;getQueryCompilationCacheInstance&quot;);</span>
<span class="nc" id="L619">        addValue(queryCompilationCachePlugin);</span>

<span class="nc" id="L621">        runtimeUnenhancedClasses = addInt(&quot;RuntimeUnenhancedClasses&quot;);</span>
<span class="nc" id="L622">        runtimeUnenhancedClasses.setAliases(new String[] {</span>
<span class="nc" id="L623">            &quot;supported&quot;,   String.valueOf(RuntimeUnenhancedClassesModes.SUPPORTED),</span>
<span class="nc" id="L624">            &quot;unsupported&quot;, String.valueOf(RuntimeUnenhancedClassesModes.UNSUPPORTED),</span>
<span class="nc" id="L625">            &quot;warn&quot;,        String.valueOf(RuntimeUnenhancedClassesModes.WARN),</span>
        });
<span class="nc" id="L627">        runtimeUnenhancedClasses.setDefault(&quot;unsupported&quot;);</span>
<span class="nc" id="L628">        runtimeUnenhancedClasses.setString(&quot;unsupported&quot;);</span>
<span class="nc" id="L629">        runtimeUnenhancedClasses.setAliasListComprehensive(true);</span>

<span class="nc" id="L631">        cacheMarshallerPlugins = (CacheMarshallersValue) addValue(new CacheMarshallersValue(this));</span>

<span class="nc" id="L633">        eagerInitialization = addBoolean(&quot;InitializeEagerly&quot;);</span>

<span class="nc" id="L635">        specification = new SpecificationPlugin(this, &quot;Specification&quot;);</span>
<span class="nc" id="L636">        addValue(specification);</span>
<span class="nc" id="L637">        specification.setInstantiatingGetter(&quot;getSpecificationInstance&quot;);</span>

<span class="nc" id="L639">        queryTimeout = addInt(&quot;javax.persistence.query.timeout&quot;);</span>
<span class="nc" id="L640">        queryTimeout.setDefault(&quot;-1&quot;);</span>
<span class="nc" id="L641">        queryTimeout.setDynamic(true);</span>

<span class="nc" id="L643">        lifecycleEventManager = addPlugin(&quot;LifecycleEventManager&quot;, true);</span>
<span class="nc" id="L644">        aliases = new String[] {</span>
<span class="nc" id="L645">            &quot;default&quot;, LifecycleEventManager.class.getName(),</span>
<span class="nc" id="L646">            &quot;validating&quot;, ValidatingLifecycleEventManager.class.getName(),</span>
        };
<span class="nc" id="L648">        lifecycleEventManager.setAliases(aliases);</span>
<span class="nc" id="L649">        lifecycleEventManager.setDefault(aliases[0]);</span>
<span class="nc" id="L650">        lifecycleEventManager.setString(aliases[0]);</span>
<span class="nc" id="L651">        lifecycleEventManager.setInstantiatingGetter(&quot;getLifecycleEventManagerInstance&quot;);</span>

<span class="nc" id="L653">        dynamicEnhancementAgent  = addBoolean(&quot;DynamicEnhancementAgent&quot;);</span>
<span class="nc" id="L654">        dynamicEnhancementAgent.setDefault(&quot;true&quot;);</span>
<span class="nc" id="L655">        dynamicEnhancementAgent.set(true);</span>

<span class="nc" id="L657">        instrumentationManager = addPlugin(&quot;InstrumentationManager&quot;, true);</span>
<span class="nc" id="L658">        aliases =</span>
<span class="nc" id="L659">            new String[] { &quot;default&quot;, InstrumentationManagerImpl.class.getName(), };</span>
<span class="nc" id="L660">        instrumentationManager.setAliases(aliases);</span>
<span class="nc" id="L661">        instrumentationManager.setDefault(aliases[0]);</span>
<span class="nc" id="L662">        instrumentationManager.setString(aliases[0]);</span>
<span class="nc" id="L663">        instrumentationManager.setInstantiatingGetter(&quot;getInstrumentationManager&quot;);</span>

<span class="nc" id="L665">        instrumentationProviders = addPluginList(&quot;Instrumentation&quot;);</span>
<span class="nc" id="L666">        aliases = new String[] { &quot;jmx&quot;, &quot;org.apache.openjpa.instrumentation.jmx.JMXProvider&quot; };</span>
<span class="nc" id="L667">        instrumentationProviders.setAliases(aliases);</span>
<span class="nc" id="L668">        instrumentationProviders.setInstantiatingGetter(&quot;getInstrumentationInstances&quot;);</span>

<span class="nc" id="L670">        auditorPlugin = addPlugin(&quot;Auditor&quot;, true);</span>
<span class="nc" id="L671">        aliases = new String[] { &quot;default&quot;, AuditLogger.class.getName(), };</span>
<span class="nc" id="L672">        auditorPlugin.setAliases(aliases);</span>
<span class="nc" id="L673">        auditorPlugin.setInstantiatingGetter(&quot;getAuditorInstance&quot;);</span>

<span class="nc" id="L675">        useTcclForSelectNew = addBoolean(&quot;UseTCCLinSelectNew&quot;);</span>
<span class="nc" id="L676">        useTcclForSelectNew.setDefault(&quot;false&quot;);</span>
<span class="nc" id="L677">        useTcclForSelectNew.set(false);</span>

<span class="nc" id="L679">        typesWithoutEnhancement = new ClassListValue();</span>

        // initialize supported options that some runtimes may not support
<span class="nc" id="L682">        supportedOptions.add(OPTION_NONTRANS_READ);</span>
<span class="nc" id="L683">        supportedOptions.add(OPTION_OPTIMISTIC);</span>
<span class="nc" id="L684">        supportedOptions.add(OPTION_ID_APPLICATION);</span>
<span class="nc" id="L685">        supportedOptions.add(OPTION_ID_DATASTORE);</span>
<span class="nc" id="L686">        supportedOptions.add(OPTION_TYPE_COLLECTION);</span>
<span class="nc" id="L687">        supportedOptions.add(OPTION_TYPE_MAP);</span>
<span class="nc" id="L688">        supportedOptions.add(OPTION_TYPE_ARRAY);</span>
<span class="nc" id="L689">        supportedOptions.add(OPTION_NULL_CONTAINER);</span>
<span class="nc" id="L690">        supportedOptions.add(OPTION_EMBEDDED_RELATION);</span>
<span class="nc" id="L691">        supportedOptions.add(OPTION_EMBEDDED_COLLECTION_RELATION);</span>
<span class="nc" id="L692">        supportedOptions.add(OPTION_EMBEDDED_MAP_RELATION);</span>
<span class="nc" id="L693">        supportedOptions.add(OPTION_INC_FLUSH);</span>
<span class="nc" id="L694">        supportedOptions.add(OPTION_VALUE_AUTOASSIGN);</span>
<span class="nc" id="L695">        supportedOptions.add(OPTION_VALUE_INCREMENT);</span>
<span class="nc" id="L696">        supportedOptions.add(OPTION_DATASTORE_CONNECTION);</span>
<span class="nc" id="L697">        supportedOptions.add(OPTION_POSTLOAD_ON_MERGE);</span>
<span class="nc" id="L698">        supportedOptions.add(OPTION_USE_TCCL_IN_SELECT_NEW);</span>

<span class="nc bnc" id="L700" title="All 2 branches missed.">        if (derivations)</span>
<span class="nc" id="L701">            ProductDerivations.beforeConfigurationLoad(this);</span>
<span class="nc bnc" id="L702" title="All 2 branches missed.">        if (loadGlobals)</span>
<span class="nc" id="L703">            loadGlobals();</span>
<span class="nc" id="L704">    }</span>

    @Override
    public Collection&lt;String&gt; supportedOptions() {
<span class="nc" id="L708">        return supportedOptions;</span>
    }

    /**
     * Get the name of the Specification only (not the version or other
     * information) or an empty String if not set.
     *
     */
    @Override
    public String getSpecification() {
<span class="nc" id="L718">        Specification spec = getSpecificationInstance();</span>
<span class="nc bnc" id="L719" title="All 2 branches missed.">        return spec == null ? &quot;&quot; : spec.getName();</span>
    }

    @Override
    public Specification getSpecificationInstance() {
<span class="nc" id="L724">        return (Specification)specification.get();</span>
    }

    /**
     * Sets Specification from the given String.
     *
     * @param spec should be encoded in the format specified in {@link
     * Specification}.
     */
    @Override
    public void setSpecification(String spec) {
<span class="nc" id="L735">        specification.setString(spec);</span>
<span class="nc" id="L736">    }</span>

    @Override
    public void setSpecification(Specification newSpec) {
<span class="nc" id="L740">        specification.set(newSpec);</span>
<span class="nc" id="L741">    }</span>

    @Override
    public void setClassResolver(String classResolver) {
<span class="nc" id="L745">        classResolverPlugin.setString(classResolver);</span>
<span class="nc" id="L746">    }</span>

    @Override
    public String getClassResolver() {
<span class="nc" id="L750">        return classResolverPlugin.getString();</span>
    }

    @Override
    public void setClassResolver(ClassResolver classResolver) {
<span class="nc" id="L755">        classResolverPlugin.set(classResolver);</span>
<span class="nc" id="L756">    }</span>

    @Override
    public ClassResolver getClassResolverInstance() {
<span class="nc bnc" id="L760" title="All 2 branches missed.">        if (classResolverPlugin.get() == null)</span>
<span class="nc" id="L761">            classResolverPlugin.instantiate(ClassResolver.class, this);</span>
<span class="nc" id="L762">        return (ClassResolver) classResolverPlugin.get();</span>
    }

    @Override
    public void setBrokerFactory(String factory) {
<span class="nc" id="L767">        brokerFactoryPlugin.setString(factory);</span>
<span class="nc" id="L768">    }</span>

    @Override
    public String getBrokerFactory() {
<span class="nc" id="L772">        return brokerFactoryPlugin.getString();</span>
    }

    @Override
    public void setBrokerImpl(String broker) {
<span class="nc" id="L777">        brokerPlugin.setString(broker);</span>
<span class="nc" id="L778">    }</span>

    @Override
    public String getBrokerImpl() {
<span class="nc" id="L782">        return brokerPlugin.getString();</span>
    }

    @Override
    public BrokerImpl newBrokerInstance(String user, String pass) {
<span class="nc" id="L787">        BrokerImpl broker = (BrokerImpl) brokerPlugin.instantiate(BrokerImpl.class, this);</span>
<span class="nc bnc" id="L788" title="All 2 branches missed.">        if (broker != null)</span>
<span class="nc" id="L789">            broker.setAuthentication(user, pass);</span>
<span class="nc" id="L790">        return broker;</span>
    }

    @Override
    public void setDataCacheManager(String mgr) {
<span class="nc" id="L795">        dataCacheManagerPlugin.setString(mgr);</span>
<span class="nc" id="L796">    }</span>

    @Override
    public String getDataCacheManager() {
<span class="nc" id="L800">        return dataCacheManagerPlugin.getString();</span>
    }

    @Override
    public void setDataCacheManager(DataCacheManager dcm) {
<span class="nc bnc" id="L805" title="All 2 branches missed.">        if (dcm != null)</span>
<span class="nc" id="L806">            dcm.initialize(this, dataCachePlugin, queryCachePlugin);</span>
<span class="nc" id="L807">        dataCacheManagerPlugin.set(dcm);</span>
<span class="nc" id="L808">    }</span>

    @Override
    public DataCacheManager getDataCacheManagerInstance() {
<span class="nc" id="L812">        DataCacheManager dcm = (DataCacheManager) dataCacheManagerPlugin.get();</span>
<span class="nc bnc" id="L813" title="All 2 branches missed.">        if (dcm == null) {</span>
<span class="nc" id="L814">            dcm = (DataCacheManager) dataCacheManagerPlugin.instantiate(DataCacheManager.class, this);</span>
<span class="nc bnc" id="L815" title="All 2 branches missed.">            if (dcm != null) {</span>
<span class="nc" id="L816">                dcm.initialize(this, dataCachePlugin, queryCachePlugin);</span>
            }
        }
<span class="nc" id="L819">        return dcm;</span>
    }

    @Override
    public void setDataCache(String dataCache) {
<span class="nc" id="L824">        dataCachePlugin.setString(dataCache);</span>
<span class="nc" id="L825">    }</span>

    @Override
    public String getDataCache() {
<span class="nc" id="L829">        return dataCachePlugin.getString();</span>
    }

    @Override
    public void setDataCacheTimeout(int dataCacheTimeout) {
<span class="nc" id="L834">        this.dataCacheTimeout.set(dataCacheTimeout);</span>
<span class="nc" id="L835">    }</span>

    @Override
    public void setDataCacheTimeout(Integer dataCacheTimeout) {
<span class="nc bnc" id="L839" title="All 2 branches missed.">        if (dataCacheTimeout != null)</span>
<span class="nc" id="L840">            setDataCacheTimeout(dataCacheTimeout.intValue());</span>
<span class="nc" id="L841">    }</span>

    @Override
    public int getDataCacheTimeout() {
<span class="nc" id="L845">        return dataCacheTimeout.get();</span>
    }

    @Override
    public void setQueryCache(String queryCache) {
<span class="nc" id="L850">        queryCachePlugin.setString(queryCache);</span>
<span class="nc" id="L851">    }</span>

    @Override
    public String getQueryCache() {
<span class="nc" id="L855">        return queryCachePlugin.getString();</span>
    }

    @Override
    public boolean getRefreshFromDataCache() {
<span class="nc" id="L860">    	return refreshFromDataCache.get();</span>
    }

    @Override
    public void setRefreshFromDataCache(boolean flag) {
<span class="nc" id="L865">    	refreshFromDataCache.set(flag);</span>
<span class="nc" id="L866">    }</span>

    @Override
    public void setRefreshFromDataCache(Boolean flag) {
<span class="nc bnc" id="L870" title="All 2 branches missed.">    	if (flag != null) {</span>
<span class="nc" id="L871">    		refreshFromDataCache.set(flag.booleanValue());</span>
    	}
<span class="nc" id="L873">    }</span>

    @Override
    public boolean getDynamicDataStructs() {
<span class="nc" id="L877">        return dynamicDataStructs.get();</span>
    }

    @Override
    public void setDynamicDataStructs(boolean dynamic) {
<span class="nc" id="L882">        dynamicDataStructs.set(dynamic);</span>
<span class="nc" id="L883">    }</span>

    @Override
    public void setDynamicDataStructs(Boolean dynamic) {
<span class="nc" id="L887">        setDynamicDataStructs(dynamic.booleanValue());</span>
<span class="nc" id="L888">    }</span>

    @Override
    public void setLockManager(String lockManager) {
<span class="nc" id="L892">        lockManagerPlugin.setString(lockManager);</span>
<span class="nc" id="L893">    }</span>

    @Override
    public String getLockManager() {
<span class="nc" id="L897">        return lockManagerPlugin.getString();</span>
    }

    @Override
    public LockManager newLockManagerInstance() {
        // don't validate plugin properties on instantiation because it
        // is likely that back ends will override defaults with their
        // own subclasses with new properties
<span class="nc" id="L905">        return (LockManager) lockManagerPlugin.instantiate(LockManager.class,</span>
            this, false);
    }

    @Override
    public void setInverseManager(String inverseManager) {
<span class="nc" id="L911">        inverseManagerPlugin.setString(inverseManager);</span>
<span class="nc" id="L912">    }</span>

    @Override
    public String getInverseManager() {
<span class="nc" id="L916">        return inverseManagerPlugin.getString();</span>
    }

    @Override
    public InverseManager newInverseManagerInstance() {
<span class="nc" id="L921">        return (InverseManager) inverseManagerPlugin.instantiate(InverseManager.class, this);</span>
    }

    @Override
    public void setSavepointManager(String savepointManager) {
<span class="nc" id="L926">        savepointManagerPlugin.setString(savepointManager);</span>
<span class="nc" id="L927">    }</span>

    @Override
    public String getSavepointManager() {
<span class="nc" id="L931">        return savepointManagerPlugin.getString();</span>
    }

    @Override
    public SavepointManager getSavepointManagerInstance() {
<span class="nc bnc" id="L936" title="All 2 branches missed.">        if (savepointManagerPlugin.get() == null)</span>
<span class="nc" id="L937">            savepointManagerPlugin.instantiate(SavepointManager.class, this);</span>
<span class="nc" id="L938">        return (SavepointManager) savepointManagerPlugin.get();</span>
    }

    @Override
    public void setOrphanedKeyAction(String action) {
<span class="nc" id="L943">        orphanedKeyPlugin.setString(action);</span>
<span class="nc" id="L944">    }</span>

    @Override
    public String getOrphanedKeyAction() {
<span class="nc" id="L948">        return orphanedKeyPlugin.getString();</span>
    }

    @Override
    public OrphanedKeyAction getOrphanedKeyActionInstance() {
<span class="nc bnc" id="L953" title="All 2 branches missed.">        if (orphanedKeyPlugin.get() == null)</span>
<span class="nc" id="L954">            orphanedKeyPlugin.instantiate(OrphanedKeyAction.class, this);</span>
<span class="nc" id="L955">        return (OrphanedKeyAction) orphanedKeyPlugin.get();</span>
    }

    @Override
    public void setOrphanedKeyAction(OrphanedKeyAction action) {
<span class="nc" id="L960">        orphanedKeyPlugin.set(action);</span>
<span class="nc" id="L961">    }</span>

    @Override
    public void setRemoteCommitProvider(String remoteCommitProvider) {
<span class="nc" id="L965">        remoteProviderPlugin.setString(remoteCommitProvider);</span>
<span class="nc" id="L966">    }</span>

    @Override
    public String getRemoteCommitProvider() {
<span class="nc" id="L970">        return remoteProviderPlugin.getString();</span>
    }

    @Override
    public RemoteCommitProvider newRemoteCommitProviderInstance() {
<span class="nc" id="L975">        return remoteProviderPlugin.instantiateProvider(this);</span>
    }

    @Override
    public void setRemoteCommitEventManager(
        RemoteCommitEventManager remoteEventManager) {
<span class="nc" id="L981">        this.remoteEventManager = remoteEventManager;</span>
<span class="nc" id="L982">        remoteProviderPlugin.configureEventManager(remoteEventManager);</span>
<span class="nc" id="L983">    }</span>

    @Override
    public RemoteCommitEventManager getRemoteCommitEventManager() {
<span class="nc bnc" id="L987" title="All 2 branches missed.">        if (remoteEventManager == null) {</span>
<span class="nc" id="L988">            remoteEventManager = new RemoteCommitEventManager(this);</span>
<span class="nc" id="L989">            remoteProviderPlugin.configureEventManager(remoteEventManager);</span>
        }
<span class="nc" id="L991">        return remoteEventManager;</span>
    }

    @Override
    public void setTransactionMode(String transactionMode) {
<span class="nc" id="L996">        this.transactionMode.setString(transactionMode);</span>
<span class="nc" id="L997">    }</span>

    @Override
    public String getTransactionMode() {
<span class="nc" id="L1001">        return transactionMode.getString();</span>
    }

    @Override
    public void setTransactionModeManaged(boolean managed) {
<span class="nc" id="L1006">        transactionMode.set(managed);</span>
<span class="nc" id="L1007">    }</span>

    @Override
    public boolean isTransactionModeManaged() {
<span class="nc" id="L1011">        return transactionMode.get();</span>
    }

    @Override
    public void setManagedRuntime(String managedRuntime) {
<span class="nc" id="L1016">        managedRuntimePlugin.setString(managedRuntime);</span>
<span class="nc" id="L1017">    }</span>

    @Override
    public String getManagedRuntime() {
<span class="nc" id="L1021">        return managedRuntimePlugin.getString();</span>
    }

    @Override
    public void setManagedRuntime(ManagedRuntime managedRuntime) {
<span class="nc" id="L1026">        managedRuntimePlugin.set(managedRuntime);</span>
<span class="nc" id="L1027">    }</span>

    @Override
    public ManagedRuntime getManagedRuntimeInstance() {
<span class="nc bnc" id="L1031" title="All 2 branches missed.">        if (managedRuntimePlugin.get() == null)</span>
<span class="nc" id="L1032">            managedRuntimePlugin.instantiate(ManagedRuntime.class, this);</span>
<span class="nc" id="L1033">        return (ManagedRuntime) managedRuntimePlugin.get();</span>
    }

    @Override
    public void setProxyManager(String proxyManager) {
<span class="nc" id="L1038">        proxyManagerPlugin.setString(proxyManager);</span>
<span class="nc" id="L1039">    }</span>

    @Override
    public String getProxyManager() {
<span class="nc" id="L1043">        return proxyManagerPlugin.getString();</span>
    }

    @Override
    public void setProxyManager(ProxyManager proxyManager) {
<span class="nc" id="L1048">        proxyManagerPlugin.set(proxyManager);</span>
<span class="nc" id="L1049">    }</span>

    @Override
    public ProxyManager getProxyManagerInstance() {
<span class="nc bnc" id="L1053" title="All 2 branches missed.">        if (proxyManagerPlugin.get() == null)</span>
<span class="nc" id="L1054">            proxyManagerPlugin.instantiate(ProxyManager.class, this);</span>
<span class="nc" id="L1055">        return (ProxyManager) proxyManagerPlugin.get();</span>
    }

    @Override
    public void setMapping(String mapping) {
<span class="nc" id="L1060">        this.mapping.setString(mapping);</span>
<span class="nc" id="L1061">    }</span>

    @Override
    public String getMapping() {
<span class="nc" id="L1065">        return mapping.getString();</span>
    }

    @Override
    public void setMetaDataFactory(String meta) {
<span class="nc" id="L1070">        this.metaFactoryPlugin.setString(meta);</span>
<span class="nc" id="L1071">    }</span>

    @Override
    public String getMetaDataFactory() {
<span class="nc" id="L1075">        return metaFactoryPlugin.getString();</span>
    }

    @Override
    public MetaDataFactory newMetaDataFactoryInstance() {
<span class="nc" id="L1080">        return (MetaDataFactory) metaFactoryPlugin.instantiate(</span>
            MetaDataFactory.class, this);
    }

    @Override
    public void setMetaDataRepository(String meta) {
<span class="nc" id="L1086">        this.metaRepositoryPlugin.setString(meta);</span>
<span class="nc" id="L1087">    }</span>

    @Override
    public String getMetaDataRepository() {
<span class="nc" id="L1091">        return metaRepositoryPlugin.getString();</span>
    }

    @Override
    public void setMetaDataRepository(MetaDataRepository meta) {
<span class="nc" id="L1096">        metaRepository = meta;</span>
<span class="nc" id="L1097">    }</span>

    @Override
    public MetaDataRepository getMetaDataRepositoryInstance() {
<span class="nc bnc" id="L1101" title="All 2 branches missed.">        if (metaRepository == null)</span>
<span class="nc" id="L1102">            metaRepository = newMetaDataRepositoryInstance();</span>
<span class="nc" id="L1103">        return metaRepository;</span>
    }

    @Override
    public boolean metaDataRepositoryAvailable(){
<span class="nc bnc" id="L1108" title="All 2 branches missed.">        return metaRepository != null;</span>
    }

    @Override
    public MetaDataRepository newMetaDataRepositoryInstance() {
<span class="nc" id="L1113">        return (MetaDataRepository) metaRepositoryPlugin.instantiate(</span>
            MetaDataRepository.class, this);
    }

    @Override
    public void setConnectionUserName(String connectionUserName) {
<span class="nc" id="L1119">        this.connectionUserName.setString(connectionUserName);</span>
<span class="nc" id="L1120">    }</span>

    @Override
    public String getConnectionUserName() {
<span class="nc" id="L1124">        return connectionUserName.getString();</span>
    }

    @Override
    public void setConnectionPassword(String connectionPassword) {
<span class="nc" id="L1129">        this.connectionPassword.setString(connectionPassword);</span>
<span class="nc" id="L1130">    }</span>

    @Override
    public String getConnectionPassword() {
<span class="nc" id="L1134">    	EncryptionProvider p = getEncryptionProvider();</span>
<span class="nc bnc" id="L1135" title="All 2 branches missed.">    	if(p != null) {</span>
<span class="nc" id="L1136">    		return p.decrypt(connectionPassword.getString());</span>
    	}
<span class="nc" id="L1138">        return connectionPassword.getString();</span>
    }

    @Override
    public void setConnectionURL(String connectionURL) {
<span class="nc" id="L1143">        this.connectionURL.setString(connectionURL);</span>
<span class="nc" id="L1144">    }</span>

    @Override
    public String getConnectionURL() {
<span class="nc" id="L1148">        return connectionURL.getString();</span>
    }

    @Override
    public void setConnectionDriverName(String driverName) {
<span class="nc" id="L1153">        this.connectionDriverName.setString(driverName);</span>
<span class="nc" id="L1154">    }</span>

    @Override
    public String getConnectionDriverName() {
<span class="nc" id="L1158">        return connectionDriverName.getString();</span>
    }

    @Override
    public void setConnectionProperties(String connectionProperties) {
<span class="nc" id="L1163">        this.connectionProperties.setString(connectionProperties);</span>
<span class="nc" id="L1164">    }</span>

    @Override
    public String getConnectionProperties() {
<span class="nc" id="L1168">        return connectionProperties.getString();</span>
    }

    @Override
    public void setConnectionFactoryProperties(
        String connectionFactoryProperties) {
<span class="nc" id="L1174">        this.connectionFactoryProperties.setString(connectionFactoryProperties);</span>
<span class="nc" id="L1175">    }</span>

    @Override
    public String getConnectionFactoryProperties() {
<span class="nc" id="L1179">        return connectionFactoryProperties.getString();</span>
    }

    @Override
    public String getConnectionFactoryMode() {
<span class="nc" id="L1184">        return connectionFactoryMode.getString();</span>
    }

    @Override
    public void setConnectionFactoryMode(String mode) {
<span class="nc" id="L1189">        connectionFactoryMode.setString(mode);</span>
<span class="nc" id="L1190">    }</span>

    @Override
    public boolean isConnectionFactoryModeManaged() {
<span class="nc" id="L1194">        return connectionFactoryMode.get();</span>
    }

    @Override
    public void setConnectionFactoryModeManaged(boolean managed) {
<span class="nc" id="L1199">        connectionFactoryMode.set(managed);</span>
<span class="nc" id="L1200">    }</span>

    @Override
    public void setConnectionFactoryName(String connectionFactoryName) {
<span class="nc" id="L1204">        this.connectionFactoryName.setString(connectionFactoryName);</span>
<span class="nc" id="L1205">    }</span>

    @Override
    public String getConnectionFactoryName() {
<span class="nc" id="L1209">        return connectionFactoryName.getString();</span>
    }

    @Override
    public void setConnectionFactory(Object factory) {
<span class="nc" id="L1214">        connectionFactory.set(factory);</span>
<span class="nc" id="L1215">    }</span>

    @Override
    public Object getConnectionFactory() {
<span class="nc bnc" id="L1219" title="All 2 branches missed.">        if (connectionFactory.get() == null)</span>
<span class="nc" id="L1220">            connectionFactory.set(</span>
<span class="nc" id="L1221">                lookupConnectionFactory(getConnectionFactoryName(),</span>
<span class="nc" id="L1222">                		connectionFactory.getProperty()), true);</span>
<span class="nc" id="L1223">        return connectionFactory.get();</span>
    }

    /**
     * Lookup the connection factory at the given name.
     */
    private Object lookupConnectionFactory(String name, String userKey) {
<span class="nc" id="L1230">        name = StringUtil.trimToNull(name);</span>
<span class="nc bnc" id="L1231" title="All 2 branches missed.">        if (name == null)</span>
<span class="nc" id="L1232">            return null;</span>
        try {
<span class="nc" id="L1234">        	return Configurations.lookup(name, userKey,</span>
<span class="nc" id="L1235">        			getLog(OpenJPAConfiguration.LOG_RUNTIME));</span>
<span class="nc" id="L1236">        } catch (Exception ex) {</span>
<span class="nc" id="L1237">        	return null;</span>
        }
    }

    @Override
    public void setConnection2UserName(String connection2UserName) {
<span class="nc" id="L1243">        this.connection2UserName.setString(connection2UserName);</span>
<span class="nc" id="L1244">    }</span>

    @Override
    public String getConnection2UserName() {
<span class="nc" id="L1248">        return connection2UserName.getString();</span>
    }

    @Override
    public void setConnection2Password(String connection2Password) {
<span class="nc" id="L1253">        this.connection2Password.setString(connection2Password);</span>
<span class="nc" id="L1254">    }</span>

    @Override
    public String getConnection2Password() {
<span class="nc" id="L1258">    	EncryptionProvider p = getEncryptionProvider();</span>
<span class="nc bnc" id="L1259" title="All 2 branches missed.">    	if(p != null){</span>
<span class="nc" id="L1260">    		return p.decrypt(connection2Password.getString());</span>
    	}
<span class="nc" id="L1262">        return connection2Password.getString();</span>
    }

    @Override
    public void setConnection2URL(String connection2URL) {
<span class="nc" id="L1267">        this.connection2URL.setString(connection2URL);</span>
<span class="nc" id="L1268">    }</span>

    @Override
    public String getConnection2URL() {
<span class="nc" id="L1272">        return connection2URL.getString();</span>
    }

    @Override
    public void setConnection2DriverName(String driverName) {
<span class="nc" id="L1277">        this.connection2DriverName.setString(driverName);</span>
<span class="nc" id="L1278">    }</span>

    @Override
    public String getConnection2DriverName() {
<span class="nc" id="L1282">        return connection2DriverName.getString();</span>
    }

    @Override
    public void setConnection2Properties(String connection2Properties) {
<span class="nc" id="L1287">        this.connection2Properties.setString(connection2Properties);</span>
<span class="nc" id="L1288">    }</span>

    @Override
    public String getConnection2Properties() {
<span class="nc" id="L1292">        return connection2Properties.getString();</span>
    }

    @Override
    public void setConnectionFactory2Properties(
        String connectionFactory2Properties) {
<span class="nc" id="L1298">        this.connectionFactory2Properties</span>
<span class="nc" id="L1299">            .setString(connectionFactory2Properties);</span>
<span class="nc" id="L1300">    }</span>

    @Override
    public String getConnectionFactory2Properties() {
<span class="nc" id="L1304">        return connectionFactory2Properties.getString();</span>
    }

    @Override
    public void setConnectionFactory2Name(String connectionFactory2Name) {
<span class="nc" id="L1309">        this.connectionFactory2Name.setString(connectionFactory2Name);</span>
<span class="nc" id="L1310">    }</span>

    @Override
    public String getConnectionFactory2Name() {
<span class="nc" id="L1314">        return connectionFactory2Name.getString();</span>
    }

    @Override
    public void setConnectionFactory2(Object factory) {
<span class="nc" id="L1319">        connectionFactory2.set(factory);</span>
<span class="nc" id="L1320">    }</span>

    @Override
    public Object getConnectionFactory2() {
<span class="nc bnc" id="L1324" title="All 2 branches missed.">        if (connectionFactory2.get() == null)</span>
<span class="nc" id="L1325">            connectionFactory2.set(</span>
<span class="nc" id="L1326">                lookupConnectionFactory(getConnectionFactory2Name(),</span>
<span class="nc" id="L1327">                		connectionFactory2.getProperty()), false);</span>
<span class="nc" id="L1328">        return connectionFactory2.get();</span>
    }

    @Override
    public void setOptimistic(boolean optimistic) {
<span class="nc" id="L1333">        this.optimistic.set(optimistic);</span>
<span class="nc" id="L1334">    }</span>

    @Override
    public void setOptimistic(Boolean optimistic) {
<span class="nc bnc" id="L1338" title="All 2 branches missed.">        if (optimistic != null)</span>
<span class="nc" id="L1339">            setOptimistic(optimistic.booleanValue());</span>
<span class="nc" id="L1340">    }</span>

    @Override
    public boolean getOptimistic() {
<span class="nc" id="L1344">        return optimistic.get();</span>
    }

    @Override
    public void setAutoClear(String clear) {
<span class="nc" id="L1349">        autoClear.setString(clear);</span>
<span class="nc" id="L1350">    }</span>

    @Override
    public String getAutoClear() {
<span class="nc" id="L1354">        return autoClear.getString();</span>
    }

    @Override
    public void setAutoClear(int clear) {
<span class="nc" id="L1359">        autoClear.set(clear);</span>
<span class="nc" id="L1360">    }</span>

    @Override
    public int getAutoClearConstant() {
<span class="nc" id="L1364">        return autoClear.get();</span>
    }

    @Override
    public void setRetainState(boolean retainState) {
<span class="nc" id="L1369">        this.retainState.set(retainState);</span>
<span class="nc" id="L1370">    }</span>

    @Override
    public void setRetainState(Boolean retainState) {
<span class="nc bnc" id="L1374" title="All 2 branches missed.">        if (retainState != null)</span>
<span class="nc" id="L1375">            setRetainState(retainState.booleanValue());</span>
<span class="nc" id="L1376">    }</span>

    @Override
    public boolean getRetainState() {
<span class="nc" id="L1380">        return retainState.get();</span>
    }

    @Override
    public void setRestoreState(String restoreState) {
<span class="nc" id="L1385">        this.restoreState.setString(restoreState);</span>
<span class="nc" id="L1386">    }</span>

    @Override
    public String getRestoreState() {
<span class="nc" id="L1390">        return restoreState.getString();</span>
    }

    @Override
    public void setRestoreState(int restoreState) {
<span class="nc" id="L1395">        this.restoreState.set(restoreState);</span>
<span class="nc" id="L1396">    }</span>

    @Override
    public int getRestoreStateConstant() {
<span class="nc" id="L1400">        return restoreState.get();</span>
    }

    @Override
    public void setAutoDetach(String autoDetach) {
<span class="nc" id="L1405">        this.autoDetach.setString(autoDetach);</span>
<span class="nc" id="L1406">    }</span>

    @Override
    public String getAutoDetach() {
<span class="nc" id="L1410">        return autoDetach.getString();</span>
    }

    @Override
    public void setAutoDetach(int autoDetachFlags) {
<span class="nc" id="L1415">        autoDetach.setConstant(autoDetachFlags);</span>
<span class="nc" id="L1416">    }</span>

    @Override
    public int getAutoDetachConstant() {
<span class="nc" id="L1420">        return autoDetach.getConstant();</span>
    }

    @Override
    public void setDetachState(String detachState) {
<span class="nc" id="L1425">        detachStatePlugin.setString(detachState);</span>
<span class="nc" id="L1426">    }</span>

    public String getDetachState() {
<span class="nc" id="L1429">        return detachStatePlugin.getString();</span>
    }

    @Override
    public void setDetachState(DetachOptions detachState) {
<span class="nc" id="L1434">        detachStatePlugin.set(detachState);</span>
<span class="nc" id="L1435">    }</span>

    @Override
    public DetachOptions getDetachStateInstance() {
<span class="nc bnc" id="L1439" title="All 2 branches missed.">        if (detachStatePlugin.get() == null)</span>
<span class="nc" id="L1440">            detachStatePlugin.instantiate(DetachOptions.class, this);</span>
<span class="nc" id="L1441">        return (DetachOptions) detachStatePlugin.get();</span>
    }

    @Override
    public void setIgnoreChanges(boolean ignoreChanges) {
<span class="nc" id="L1446">        this.ignoreChanges.set(ignoreChanges);</span>
<span class="nc" id="L1447">    }</span>

    @Override
    public void setIgnoreChanges(Boolean ignoreChanges) {
<span class="nc bnc" id="L1451" title="All 2 branches missed.">        if (ignoreChanges != null)</span>
<span class="nc" id="L1452">            setIgnoreChanges(ignoreChanges.booleanValue());</span>
<span class="nc" id="L1453">    }</span>

    @Override
    public boolean getIgnoreChanges() {
<span class="nc" id="L1457">        return ignoreChanges.get();</span>
    }

    @Override
    public void setNontransactionalRead(boolean nontransactionalRead) {
<span class="nc" id="L1462">        this.nontransactionalRead.set(nontransactionalRead);</span>
<span class="nc" id="L1463">    }</span>

    @Override
    public void setNontransactionalRead(Boolean nontransactionalRead) {
<span class="nc bnc" id="L1467" title="All 2 branches missed.">        if (nontransactionalRead != null)</span>
<span class="nc" id="L1468">            setNontransactionalRead(nontransactionalRead.booleanValue());</span>
<span class="nc" id="L1469">    }</span>

    @Override
    public boolean getNontransactionalRead() {
<span class="nc" id="L1473">        return nontransactionalRead.get();</span>
    }

    @Override
    public void setNontransactionalWrite(boolean nontransactionalWrite) {
<span class="nc" id="L1478">        this.nontransactionalWrite.set(nontransactionalWrite);</span>
<span class="nc" id="L1479">    }</span>

    @Override
    public void setNontransactionalWrite(Boolean nontransactionalWrite) {
<span class="nc bnc" id="L1483" title="All 2 branches missed.">        if (nontransactionalWrite != null)</span>
<span class="nc" id="L1484">            setNontransactionalWrite(nontransactionalWrite.booleanValue());</span>
<span class="nc" id="L1485">    }</span>

    @Override
    public boolean getNontransactionalWrite() {
<span class="nc" id="L1489">        return nontransactionalWrite.get();</span>
    }

    @Override
    public void setMultithreaded(boolean multithreaded) {
<span class="nc" id="L1494">        this.multithreaded.set(multithreaded);</span>
<span class="nc" id="L1495">    }</span>

    @Override
    public void setMultithreaded(Boolean multithreaded) {
<span class="nc bnc" id="L1499" title="All 2 branches missed.">        if (multithreaded != null)</span>
<span class="nc" id="L1500">            setMultithreaded(multithreaded.booleanValue());</span>
<span class="nc" id="L1501">    }</span>

    @Override
    public boolean getMultithreaded() {
<span class="nc" id="L1505">        return multithreaded.get();</span>
    }

    @Override
    public void setFetchBatchSize(int fetchBatchSize) {
<span class="nc" id="L1510">        this.fetchBatchSize.set(fetchBatchSize);</span>
<span class="nc" id="L1511">    }</span>

    @Override
    public void setFetchBatchSize(Integer fetchBatchSize) {
<span class="nc bnc" id="L1515" title="All 2 branches missed.">        if (fetchBatchSize != null)</span>
<span class="nc" id="L1516">            setFetchBatchSize(fetchBatchSize.intValue());</span>
<span class="nc" id="L1517">    }</span>

    @Override
    public int getFetchBatchSize() {
<span class="nc" id="L1521">        return fetchBatchSize.get();</span>
    }

    @Override
    public void setMaxFetchDepth(int maxFetchDepth) {
<span class="nc" id="L1526">        this.maxFetchDepth.set(maxFetchDepth);</span>
<span class="nc" id="L1527">    }</span>

    @Override
    public void setMaxFetchDepth(Integer maxFetchDepth) {
<span class="nc bnc" id="L1531" title="All 2 branches missed.">        if (maxFetchDepth != null)</span>
<span class="nc" id="L1532">            setMaxFetchDepth(maxFetchDepth.intValue());</span>
<span class="nc" id="L1533">    }</span>

    @Override
    public int getMaxFetchDepth() {
<span class="nc" id="L1537">        return maxFetchDepth.get();</span>
    }

    @Override
    public void setFetchGroups(String fetchGroups) {
<span class="nc" id="L1542">        this.fetchGroups.setString(fetchGroups);</span>
<span class="nc" id="L1543">    }</span>

    @Override
    public String getFetchGroups() {
<span class="nc" id="L1547">        return fetchGroups.getString();</span>
    }

    @Override
    public String[] getFetchGroupsList() {
<span class="nc" id="L1552">        return fetchGroups.get();</span>
    }

    @Override
    public void setFetchGroups(String[] fetchGroups) {
<span class="nc" id="L1557">        this.fetchGroups.set(fetchGroups);</span>
<span class="nc" id="L1558">    }</span>

    @Override
    public void setFlushBeforeQueries(String flush) {
<span class="nc" id="L1562">        flushBeforeQueries.setString(flush);</span>
<span class="nc" id="L1563">    }</span>

    @Override
    public String getFlushBeforeQueries() {
<span class="nc" id="L1567">        return flushBeforeQueries.getString();</span>
    }

    @Override
    public void setFlushBeforeQueries(int flush) {
<span class="nc" id="L1572">        flushBeforeQueries.set(flush);</span>
<span class="nc" id="L1573">    }</span>

    @Override
    public int getFlushBeforeQueriesConstant() {
<span class="nc" id="L1577">        return flushBeforeQueries.get();</span>
    }

    @Override
    public void setLockTimeout(int timeout) {
<span class="nc" id="L1582">        lockTimeout.set(timeout);</span>
<span class="nc" id="L1583">    }</span>

    @Override
    public void setLockTimeout(Integer timeout) {
<span class="nc bnc" id="L1587" title="All 2 branches missed.">        if (timeout != null)</span>
<span class="nc" id="L1588">            setLockTimeout(timeout.intValue());</span>
<span class="nc" id="L1589">    }</span>

    @Override
    public int getLockTimeout() {
<span class="nc" id="L1593">        return lockTimeout.get();</span>
    }

    @Override
    public int getQueryTimeout() {
<span class="nc" id="L1598">        return queryTimeout.get();</span>
    }

    @Override
    public void setQueryTimeout(int timeout) {
<span class="nc" id="L1603">         queryTimeout.set(timeout);</span>
<span class="nc" id="L1604">    }</span>

    @Override
    public void setReadLockLevel(String level) {
<span class="nc" id="L1608">        readLockLevel.setString(level);</span>
<span class="nc" id="L1609">    }</span>

    @Override
    public String getReadLockLevel() {
<span class="nc" id="L1613">        return readLockLevel.getString();</span>
    }

    @Override
    public void setReadLockLevel(int level) {
<span class="nc" id="L1618">        readLockLevel.set(level);</span>
<span class="nc" id="L1619">    }</span>

    @Override
    public int getReadLockLevelConstant() {
<span class="nc" id="L1623">        return readLockLevel.get();</span>
    }

    @Override
    public void setWriteLockLevel(String level) {
<span class="nc" id="L1628">        writeLockLevel.setString(level);</span>
<span class="nc" id="L1629">    }</span>

    @Override
    public String getWriteLockLevel() {
<span class="nc" id="L1633">        return writeLockLevel.getString();</span>
    }

    @Override
    public void setWriteLockLevel(int level) {
<span class="nc" id="L1638">        writeLockLevel.set(level);</span>
<span class="nc" id="L1639">    }</span>

    @Override
    public int getWriteLockLevelConstant() {
<span class="nc" id="L1643">        return writeLockLevel.get();</span>
    }

    @Override
    public void setSequence(String sequence) {
<span class="nc" id="L1648">        seqPlugin.setString(sequence);</span>
<span class="nc" id="L1649">    }</span>

    @Override
    public String getSequence() {
<span class="nc" id="L1653">        return seqPlugin.getString();</span>
    }

    @Override
    public void setSequence(Seq seq) {
<span class="nc" id="L1658">        seqPlugin.set(seq);</span>
<span class="nc" id="L1659">    }</span>

    @Override
    public Seq getSequenceInstance() {
<span class="nc bnc" id="L1663" title="All 2 branches missed.">        if (seqPlugin.get() == null)</span>
<span class="nc" id="L1664">            seqPlugin.instantiate(Seq.class, this);</span>
<span class="nc" id="L1665">        return (Seq) seqPlugin.get();</span>
    }

    @Override
    public void setConnectionRetainMode(String connectionRetainMode) {
<span class="nc" id="L1670">        this.connectionRetainMode.setString(connectionRetainMode);</span>
<span class="nc" id="L1671">    }</span>

    @Override
    public String getConnectionRetainMode() {
<span class="nc" id="L1675">        return connectionRetainMode.getString();</span>
    }

    @Override
    public void setConnectionRetainMode(int connectionRetainMode) {
<span class="nc" id="L1680">        this.connectionRetainMode.set(connectionRetainMode);</span>
<span class="nc" id="L1681">    }</span>

    @Override
    public int getConnectionRetainModeConstant() {
<span class="nc" id="L1685">        return connectionRetainMode.get();</span>
    }

    @Override
    public void setFilterListeners(String filterListeners) {
<span class="nc" id="L1690">        filterListenerPlugins.setString(filterListeners);</span>
<span class="nc" id="L1691">    }</span>

    @Override
    public String getFilterListeners() {
<span class="nc" id="L1695">        return filterListenerPlugins.getString();</span>
    }

    @Override
    public void setFilterListeners(FilterListener[] listeners) {
<span class="nc" id="L1700">        filterListenerPlugins.set(listeners);</span>
<span class="nc" id="L1701">    }</span>

    @Override
    public FilterListener[] getFilterListenerInstances() {
<span class="nc bnc" id="L1705" title="All 2 branches missed.">        if (filterListenerPlugins.get() == null)</span>
<span class="nc" id="L1706">            filterListenerPlugins.instantiate(FilterListener.class, this);</span>
<span class="nc" id="L1707">        return (FilterListener[]) filterListenerPlugins.get();</span>
    }

    @Override
    public void setAggregateListeners(String aggregateListeners) {
<span class="nc" id="L1712">        aggregateListenerPlugins.setString(aggregateListeners);</span>
<span class="nc" id="L1713">    }</span>

    @Override
    public String getAggregateListeners() {
<span class="nc" id="L1717">        return aggregateListenerPlugins.getString();</span>
    }

    @Override
    public void setAggregateListeners(AggregateListener[] listeners) {
<span class="nc" id="L1722">        aggregateListenerPlugins.set(listeners);</span>
<span class="nc" id="L1723">    }</span>

    @Override
    public AggregateListener[] getAggregateListenerInstances() {
<span class="nc bnc" id="L1727" title="All 2 branches missed.">        if (aggregateListenerPlugins.get() == null)</span>
<span class="nc" id="L1728">            aggregateListenerPlugins.instantiate(AggregateListener.class, this);</span>
<span class="nc" id="L1729">        return (AggregateListener[]) aggregateListenerPlugins.get();</span>
    }

    @Override
    public void setRetryClassRegistration(boolean retry) {
<span class="nc" id="L1734">        retryClassRegistration.set(retry);</span>
<span class="nc" id="L1735">    }</span>

    @Override
    public void setRetryClassRegistration(Boolean retry) {
<span class="nc bnc" id="L1739" title="All 2 branches missed.">        if (retry != null)</span>
<span class="nc" id="L1740">            setRetryClassRegistration(retry.booleanValue());</span>
<span class="nc" id="L1741">    }</span>

    @Override
    public boolean getRetryClassRegistration() {
<span class="nc" id="L1745">        return retryClassRegistration.get();</span>
    }

    @Override
    public String getCompatibility() {
<span class="nc" id="L1750">        return compatibilityPlugin.getString();</span>
    }

    @Override
    public void setCompatibility(String compatibility) {
<span class="nc" id="L1755">        compatibilityPlugin.setString(compatibility);</span>
<span class="nc" id="L1756">    }</span>

    /**
     * If a Compatibility instance is associated with the Specification,
     * we will configure this Compatibility instance instead of instantiating a
     * new one so that the compatibility flags set in compliance with the
     * Specification can be preserved.
     */
    @Override
    public Compatibility getCompatibilityInstance() {
<span class="nc bnc" id="L1766" title="All 2 branches missed.">        if (compatibilityPlugin.get() == null) {</span>
<span class="nc" id="L1767">            Specification spec = getSpecificationInstance();</span>
<span class="nc bnc" id="L1768" title="All 2 branches missed.">            Compatibility comp = spec != null ? spec.getCompatibility() : null;</span>
<span class="nc bnc" id="L1769" title="All 2 branches missed.">            if (comp == null)</span>
<span class="nc" id="L1770">                compatibilityPlugin.instantiate(Compatibility.class, this);</span>
            else
<span class="nc" id="L1772">                compatibilityPlugin.configure(comp, this);</span>
        }
<span class="nc" id="L1774">        return (Compatibility) compatibilityPlugin.get();</span>
    }

    @Override
    public String getCallbackOptions() {
<span class="nc" id="L1779">        return callbackPlugin.getString();</span>
    }

    @Override
    public void setCallbackOptions(String options) {
<span class="nc" id="L1784">        callbackPlugin.setString(options);</span>
<span class="nc" id="L1785">    }</span>

    @Override
    public CallbackOptions getCallbackOptionsInstance() {
<span class="nc bnc" id="L1789" title="All 2 branches missed.">        if (callbackPlugin.get() == null)</span>
<span class="nc" id="L1790">            callbackPlugin.instantiate(CallbackOptions.class, this);</span>
<span class="nc" id="L1791">        return (CallbackOptions) callbackPlugin.get();</span>
    }

    @Override
    public String getQueryCompilationCache() {
<span class="nc" id="L1796">        return queryCompilationCachePlugin.getString();</span>
    }

    @Override
    public void setQueryCompilationCache(String queryCompilationCache) {
<span class="nc" id="L1801">        queryCompilationCachePlugin.setString(queryCompilationCache);</span>
<span class="nc" id="L1802">    }</span>

    @Override
    public Map getQueryCompilationCacheInstance() {
<span class="nc bnc" id="L1806" title="All 2 branches missed.">        if (queryCompilationCachePlugin.get() == null)</span>
<span class="nc" id="L1807">            queryCompilationCachePlugin.instantiate(Map.class, this);</span>
<span class="nc" id="L1808">        return (Map) queryCompilationCachePlugin.get();</span>
    }

    @Override
    public StoreFacadeTypeRegistry getStoreFacadeTypeRegistry() {
<span class="nc" id="L1813">        return _storeFacadeRegistry;</span>
    }

    @Override
    public BrokerFactoryEventManager getBrokerFactoryEventManager() {
<span class="nc" id="L1818">        return _brokerFactoryEventManager;</span>
    }

    @Override
    public String getRuntimeUnenhancedClasses() {
<span class="nc" id="L1823">        return runtimeUnenhancedClasses.getString();</span>
    }

    @Override
    public int getRuntimeUnenhancedClassesConstant() {
<span class="nc" id="L1828">        return runtimeUnenhancedClasses.get();</span>
    }

    @Override
    public void setRuntimeUnenhancedClasses(int mode) {
<span class="nc" id="L1833">        runtimeUnenhancedClasses.set(mode);</span>
<span class="nc" id="L1834">    }</span>

    @Override
    public void setRuntimeUnenhancedClasses(String mode) {
<span class="nc" id="L1838">        runtimeUnenhancedClasses.setString(mode);</span>
<span class="nc" id="L1839">    }</span>

    @Override
    public String getCacheMarshallers() {
<span class="nc" id="L1843">        return cacheMarshallerPlugins.getString();</span>
    }

    @Override
    public void setCacheMarshallers(String marshallers) {
<span class="nc" id="L1848">        cacheMarshallerPlugins.setString(marshallers);</span>
<span class="nc" id="L1849">    }</span>

    @Override
    public Map getCacheMarshallerInstances() {
<span class="nc" id="L1853">        return cacheMarshallerPlugins.getInstancesAsMap();</span>
    }

    @Override
    public boolean isInitializeEagerly() {
<span class="nc" id="L1858">        return eagerInitialization.get();</span>
    }

    @Override
    public void setInitializeEagerly(boolean retry) {
<span class="nc" id="L1863">        eagerInitialization.set(retry);</span>
<span class="nc" id="L1864">    }</span>

    @Override
    public void setValidationMode(String mode) {
<span class="nc" id="L1868">        validationMode.setString(mode);</span>
<span class="nc" id="L1869">    }</span>

    @Override
    public String getValidationMode() {
<span class="nc" id="L1873">        String mode = validationMode.getString();</span>
<span class="nc bnc" id="L1874" title="All 2 branches missed.">        if (mode == null)</span>
<span class="nc" id="L1875">            mode = validationMode.getDefault();</span>
<span class="nc" id="L1876">        return mode;</span>
    }

    @Override
    public void setValidationGroupPrePersist(String vgPrePersist) {
<span class="nc" id="L1881">        validationGroupPrePersist.setString(vgPrePersist);</span>
<span class="nc" id="L1882">    }</span>

    @Override
    public String getValidationGroupPrePersist() {
<span class="nc" id="L1886">        String vgPrePersist = validationGroupPrePersist.getString();</span>
<span class="nc bnc" id="L1887" title="All 2 branches missed.">        if (vgPrePersist == null)</span>
<span class="nc" id="L1888">            vgPrePersist = validationGroupPrePersist.getDefault();</span>
<span class="nc" id="L1889">        return vgPrePersist;</span>
    }

    @Override
    public void setValidationGroupPreUpdate(String vgPreUpdate) {
<span class="nc" id="L1894">        validationGroupPreUpdate.setString(vgPreUpdate);</span>
<span class="nc" id="L1895">    }</span>

    @Override
    public String getValidationGroupPreUpdate() {
<span class="nc" id="L1899">        String vgPreUpdate = validationGroupPreUpdate.getString();</span>
<span class="nc bnc" id="L1900" title="All 2 branches missed.">        if (vgPreUpdate == null)</span>
<span class="nc" id="L1901">            vgPreUpdate = validationGroupPreUpdate.getDefault();</span>
<span class="nc" id="L1902">        return vgPreUpdate;</span>
    }

    @Override
    public void setValidationGroupPreRemove(String vgPreRemove) {
<span class="nc" id="L1907">        validationGroupPreRemove.setString(vgPreRemove);</span>
<span class="nc" id="L1908">    }</span>

    @Override
    public String getValidationGroupPreRemove() {
<span class="nc" id="L1912">        String vgPreRemove = validationGroupPreRemove.getString();</span>
<span class="nc bnc" id="L1913" title="All 2 branches missed.">        if (vgPreRemove == null)</span>
<span class="nc" id="L1914">            vgPreRemove = validationGroupPreRemove.getDefault();</span>
<span class="nc" id="L1915">        return vgPreRemove;</span>
    }

    @Override
    public String getInstrumentation() {
<span class="nc" id="L1920">        return instrumentationProviders.getString();</span>
    }

    @Override
    public void setInstrumentation(String providers) {
<span class="nc" id="L1925">        instrumentationProviders.setString(providers);</span>
<span class="nc" id="L1926">    }</span>

    public InstrumentationProvider[] getInstrumentationInstances() {
<span class="nc bnc" id="L1929" title="All 2 branches missed.">        if (instrumentationProviders.get() == null)</span>
<span class="nc" id="L1930">            instrumentationProviders.instantiate(InstrumentationProvider.class, this);</span>
<span class="nc" id="L1931">        return (InstrumentationProvider[]) instrumentationProviders.get();</span>
    }

    public void setInstrumentationManager(String mgr) {
<span class="nc" id="L1935">        instrumentationManager.setString(mgr);</span>
<span class="nc" id="L1936">    }</span>

    public String getInstrumentationManager() {
<span class="nc" id="L1939">        return instrumentationManager.getString();</span>
    }

    public void setInstrumentationManager(InstrumentationManager im) {
<span class="nc bnc" id="L1943" title="All 2 branches missed.">        if (im != null)</span>
<span class="nc" id="L1944">            im.initialize(this, instrumentationProviders);</span>
<span class="nc" id="L1945">        instrumentationManager.set(im);</span>
<span class="nc" id="L1946">    }</span>

    @Override
    public InstrumentationManager getInstrumentationManagerInstance() {
<span class="nc" id="L1950">        InstrumentationManager im = (InstrumentationManager) instrumentationManager.get();</span>
<span class="nc bnc" id="L1951" title="All 2 branches missed.">        if (im == null) {</span>
<span class="nc" id="L1952">            im = (InstrumentationManager) instrumentationManager.instantiate(InstrumentationManager.class, this);</span>
<span class="nc bnc" id="L1953" title="All 2 branches missed.">            if (im != null) {</span>
<span class="nc" id="L1954">                im.initialize(this, instrumentationProviders);</span>
<span class="nc" id="L1955">                im.start(InstrumentationLevel.IMMEDIATE, this);</span>
            }
        }
<span class="nc" id="L1958">        return im;</span>
    }

    @Override
    public void instantiateAll() {
<span class="nc" id="L1963">        super.instantiateAll();</span>
<span class="nc" id="L1964">        getMetaDataRepositoryInstance();</span>
<span class="nc" id="L1965">        getRemoteCommitEventManager();</span>
<span class="nc" id="L1966">        getAuditorInstance();</span>
<span class="nc" id="L1967">        cacheMarshallerPlugins.initialize();</span>
<span class="nc bnc" id="L1968" title="All 2 branches missed.">        if (isInitializeEagerly()) {</span>
<span class="nc" id="L1969">            getConnectionFactory();</span>
<span class="nc" id="L1970">            getConnectionFactory2();</span>
        }
<span class="nc" id="L1972">    }</span>

    @Override
    protected void preClose() {
<span class="nc" id="L1976">        ImplHelper.close(metaRepository);</span>
<span class="nc" id="L1977">        ImplHelper.close(remoteEventManager);</span>
<span class="nc" id="L1978">        ImplHelper.close(getInstrumentationManagerInstance());</span>
<span class="nc" id="L1979">        super.preClose();</span>
<span class="nc" id="L1980">    }</span>

    @Override
    public Log getConfigurationLog() {
<span class="nc" id="L1984">        return getLog(LOG_RUNTIME);</span>
    }

    @Override
    public void setQuerySQLCache(String querySQLCache) {
<span class="nc" id="L1989">        preparedQueryCachePlugin.setString(querySQLCache);</span>
<span class="nc" id="L1990">    }</span>

    @Override
    public void setQuerySQLCache(PreparedQueryCache querySQLCache) {
<span class="nc" id="L1994">        preparedQueryCachePlugin.set(querySQLCache);</span>
<span class="nc" id="L1995">    }</span>

    @Override
    public String getQuerySQLCache() {
<span class="nc" id="L1999">        return preparedQueryCachePlugin.getString();</span>
    }

    @Override
    public PreparedQueryCache getQuerySQLCacheInstance() {
<span class="nc bnc" id="L2004" title="All 2 branches missed.">        if (preparedQueryCachePlugin == null)</span>
<span class="nc" id="L2005">            return null;</span>

<span class="nc bnc" id="L2007" title="All 2 branches missed.">        if (preparedQueryCachePlugin.get() == null) {</span>
<span class="nc" id="L2008">            preparedQueryCachePlugin.instantiate(PreparedQueryCache.class,</span>
                    this);
        }
<span class="nc" id="L2011">        return (PreparedQueryCache)preparedQueryCachePlugin.get();</span>
    }

    @Override
    public void setFinderCache(String finderCache) {
<span class="nc" id="L2016">        finderCachePlugin.setString(finderCache);</span>
<span class="nc" id="L2017">    }</span>

    @Override
    public String getFinderCache() {
<span class="nc" id="L2021">        return finderCachePlugin.getString();</span>
    }

    @Override
    public FinderCache getFinderCacheInstance() {
<span class="nc bnc" id="L2026" title="All 2 branches missed.">        if (finderCachePlugin.get() == null) {</span>
<span class="nc" id="L2027">            finderCachePlugin.instantiate(FinderCache.class, this);</span>
        }
<span class="nc" id="L2029">        return (FinderCache)finderCachePlugin.get();</span>
    }

    @Override
    public Object getValidationFactoryInstance() {
<span class="nc" id="L2034">        return validationFactory.get();</span>
    }

    @Override
    public void setValidationFactory(Object factory) {
<span class="nc" id="L2039">        validationFactory.set(factory);</span>
<span class="nc" id="L2040">    }</span>

    @Override
    public Object getValidatorInstance() {
<span class="nc" id="L2044">        return validator.get();</span>
    }

    @Override
    public void setValidatorInstance(Object val) {
<span class="nc" id="L2049">        validator.set(val);</span>
<span class="nc" id="L2050">    }</span>

    @Override
    public String getLifecycleEventManager() {
<span class="nc" id="L2054">        return lifecycleEventManager.getString();</span>
    }

    @Override
    public LifecycleEventManager getLifecycleEventManagerInstance() {
<span class="nc" id="L2059">        LifecycleEventManager lem = null;</span>
<span class="nc bnc" id="L2060" title="All 2 branches missed.">        if (!getCompatibilityInstance().isSingletonLifecycleEventManager() ||</span>
<span class="nc bnc" id="L2061" title="All 2 branches missed.">                (lem = (LifecycleEventManager)lifecycleEventManager.get()) == null) {</span>
<span class="nc" id="L2062">            lem = (LifecycleEventManager)lifecycleEventManager</span>
<span class="nc" id="L2063">                .instantiate(LifecycleEventManager.class, this);</span>
        }
<span class="nc" id="L2065">        return lem;</span>
    }

    @Override
    public void setLifecycleEventManager(String lem) {
<span class="nc bnc" id="L2070" title="All 2 branches missed.">        if (_allowSetLifeCycleEventManager) {</span>
<span class="nc" id="L2071">            _allowSetLifeCycleEventManager = false;</span>
            // Only allow this to be called once even if the configuration is frozen. This can happen if a configuration
            // is eagerly initialized and validation is being used.
<span class="nc" id="L2074">            lifecycleEventManager.setDynamic(true);</span>
<span class="nc" id="L2075">            lifecycleEventManager.setString(lem);</span>
<span class="nc" id="L2076">            lifecycleEventManager.setDynamic(false);</span>
        } else {
            // If the configuration is frozen this will result in a warning message and/or an exception.
<span class="nc" id="L2079">            lifecycleEventManager.setString(lem);</span>
        }
<span class="nc" id="L2081">    }</span>

    @Override
    public boolean getDynamicEnhancementAgent() {
<span class="nc" id="L2085">        return dynamicEnhancementAgent.get();</span>
    }

    @Override
    public void setDynamicEnhancementAgent(boolean dynamic) {
<span class="nc" id="L2090">        dynamicEnhancementAgent.set(dynamic);</span>
<span class="nc" id="L2091">    }</span>

    @Override
    public void setEncryptionProvider(String p) {
<span class="nc" id="L2095">        encryptionProvider.setString(p);</span>
<span class="nc" id="L2096">    }</span>

    @Override
    public EncryptionProvider getEncryptionProvider() {
<span class="nc bnc" id="L2100" title="All 2 branches missed.">        if (encryptionProvider.get() == null)</span>
<span class="nc" id="L2101">            encryptionProvider.instantiate(EncryptionProvider.class, this);</span>
<span class="nc" id="L2102">        return (EncryptionProvider) encryptionProvider.get();</span>
    }

    @Override
    public void setDataCacheMode(String mode) {
<span class="nc" id="L2107">        this.dataCacheMode.setString(mode);</span>
<span class="nc" id="L2108">    }</span>

    @Override
    public String getDataCacheMode() {
<span class="nc" id="L2112">        return dataCacheMode.getString();</span>
    }


    @Override
    public String getCacheDistributionPolicy() {
<span class="nc" id="L2118">        return cacheDistributionPolicyPlugin.getString();</span>
    }

    @Override
    public CacheDistributionPolicy getCacheDistributionPolicyInstance() {
<span class="nc" id="L2123">        CacheDistributionPolicy policy = (CacheDistributionPolicy) cacheDistributionPolicyPlugin.get();</span>
<span class="nc bnc" id="L2124" title="All 2 branches missed.">        if (policy == null) {</span>
<span class="nc" id="L2125">            policy =  (CacheDistributionPolicy)</span>
<span class="nc" id="L2126">                cacheDistributionPolicyPlugin.instantiate(CacheDistributionPolicy.class, this);</span>
        }
<span class="nc" id="L2128">        return policy;</span>
    }

    @Override
    public void setCacheDistributionPolicy(String policyPlugin) {
<span class="nc" id="L2133">        cacheDistributionPolicyPlugin.setString(policyPlugin);</span>
<span class="nc" id="L2134">    }</span>

    @Override
    public void setCacheDistributionPolicyInstance(CacheDistributionPolicy policy) {
<span class="nc" id="L2138">        cacheDistributionPolicyPlugin.set(policy);</span>
<span class="nc" id="L2139">    }</span>

    public void setPersistenceEnvironment(Map&lt;String, Object&gt; peMap) {
<span class="nc" id="L2142">        this._peMap = peMap;</span>
<span class="nc" id="L2143">    }</span>

    public Map&lt;String, Object&gt; getPersistenceEnvironment() {
<span class="nc" id="L2146">        return _peMap;</span>
    }

    @Override
    public Auditor getAuditorInstance() {
<span class="nc" id="L2151">    	Auditor auditor = (Auditor) auditorPlugin.get();</span>
<span class="nc bnc" id="L2152" title="All 2 branches missed.">        if (auditor == null) {</span>
<span class="nc" id="L2153">            auditor = (Auditor) auditorPlugin.instantiate(Auditor.class, this);</span>
       }
<span class="nc" id="L2155">       return auditor;</span>
    }

    @Override
    public void setAuditorInstance(Auditor auditor) {
<span class="nc" id="L2160">    	auditorPlugin.set(auditor);</span>
<span class="nc" id="L2161">    }</span>

    @Override
    public String getAuditor() {
<span class="nc" id="L2165">    	return auditorPlugin.getString();</span>
    }

    @Override
    public void setAuditor(String auditor) {
<span class="nc" id="L2170">    	auditorPlugin.setString(auditor);</span>
<span class="nc" id="L2171">    }</span>

    @Override
    public boolean getPostLoadOnMerge() {
<span class="nc" id="L2175">        return postLoadOnMerge.get();</span>
    }

    @Override
    public void setPostLoadOnMerge(boolean postLoadOnMerge) {
<span class="nc" id="L2180">        this.postLoadOnMerge.set(postLoadOnMerge);</span>
<span class="nc" id="L2181">    }</span>

    @Override
    public void setPostLoadOnMerge(Boolean postLoadOnMerge) {
<span class="nc bnc" id="L2185" title="All 2 branches missed.">        if (postLoadOnMerge != null)</span>
<span class="nc" id="L2186">            setPostLoadOnMerge(postLoadOnMerge.booleanValue());</span>
<span class="nc" id="L2187">    }</span>

    @Override
    public boolean getOptimizeIdCopy() {
<span class="nc" id="L2191">        return optimizeIdCopy.get();</span>
    }

    @Override
    public void setOptimizeIdCopy(boolean optimizeId) {
<span class="nc" id="L2196">        optimizeIdCopy.set(optimizeId);</span>
<span class="nc" id="L2197">    }</span>

    @Override
    public void setOptimizeIdCopy(Boolean optimizeId) {
<span class="nc bnc" id="L2201" title="All 2 branches missed.">        if (optimizeId != null) {</span>
<span class="nc" id="L2202">            setOptimizeIdCopy(optimizeId.booleanValue());</span>
        }
<span class="nc" id="L2204">    }</span>

    @Override
    public String getDatabaseAction() {
<span class="nc" id="L2208">        return databaseAction.getString();</span>
    }

    @Override
    public int getDatabaseActionConstant() {
<span class="nc" id="L2213">        return databaseAction.get();</span>
    }

    @Override
    public String getScriptsAction() {
<span class="nc" id="L2218">        return scriptsAction.getString();</span>
    }

    @Override
    public int getScriptsActionConstant() {
<span class="nc" id="L2223">        return scriptsAction.get();</span>
    }

    @Override
    public String getCreateSource() {
<span class="nc" id="L2228">        return createSource.getString();</span>
    }

    @Override
    public int getCreateSourceConstant() {
<span class="nc" id="L2233">        return createSource.get();</span>
    }

    @Override
    public String getDropSource() {
<span class="nc" id="L2238">        return dropSource.getString();</span>
    }

    @Override
    public int getDropSourceConstant() {
<span class="nc" id="L2243">        return dropSource.get();</span>
    }

    @Override
    public String getCreateScriptSource() {
<span class="nc" id="L2248">        return createScriptSource.getString();</span>
    }

    @Override
    public String getDropScriptSource() {
<span class="nc" id="L2253">        return dropScriptSource.getString();</span>
    }

    @Override
    public String getCreateScriptTarget() {
<span class="nc" id="L2258">        return createScriptTarget.getString();</span>
    }

    @Override
    public String getDropScriptTarget() {
<span class="nc" id="L2263">        return dropScriptTarget.getString();</span>
    }

    @Override
    public String getLoadScriptSource() {
<span class="nc" id="L2268">        return loadScriptSource.getString();</span>
    }

    @Override
    public boolean getUseTCCLinSelectNew() {
<span class="nc" id="L2273">        return useTcclForSelectNew.get();</span>
    }

    @Override
    public void setUseTCCLinSelectNew(boolean useTcclForSelectNew) {
<span class="nc" id="L2278">        this.useTcclForSelectNew.set(useTcclForSelectNew);</span>
<span class="nc" id="L2279">    }</span>

    @Override
    public void setUseTCCLinSelectNew(Boolean useTcclForSelectNew) {
<span class="nc bnc" id="L2283" title="All 2 branches missed.">        if (useTcclForSelectNew != null) {</span>
<span class="nc" id="L2284">            setUseTCCLinSelectNew(useTcclForSelectNew.booleanValue());</span>
        }
<span class="nc" id="L2286">    }</span>

    @Override
    public Collection&lt;Class&lt;?&gt;&gt; getTypesWithoutEnhancement() {
<span class="nc" id="L2290">        return asList(typesWithoutEnhancement.get());</span>
    }

    @Override
    public void setTypesWithoutEnhancement(Collection&lt;Class&lt;?&gt;&gt; value) {
<span class="nc" id="L2295">        typesWithoutEnhancement.set(value.toArray(new Class[value.size()]));</span>
<span class="nc" id="L2296">    }</span>
}

</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.4.201905082037</span></div></body></html>